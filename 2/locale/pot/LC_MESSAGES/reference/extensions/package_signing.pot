# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2016-2024, JFrog
# This file is distributed under the same license as the conan package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: conan 2\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-17 08:43+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../reference/extensions/package_signing.rst:4
msgid "Package signing"
msgstr ""

#: ../../../common/experimental_warning.inc:3
msgid ""
"This feature is experimental and subject to breaking changes. See :ref:`the "
"Conan stability<stability>` section for more information."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:8
msgid ""
"This plugin is a Conan extension mechanism to sign and verify packages. For "
"example using Cosign (Sigstore), OpenSSL, GPG, etc."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:10
msgid "This capability allows users to:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:12
msgid "Sign and verify packages stored in the local cache."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:13
msgid "Verify packages when installed."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:14
msgid "Upload signatures alongside packages to a remote server."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:18
msgid "Configuration"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:20
msgid ""
"To enable package signing, the plugin should be placed in the cache at "
"``extensions/plugins/sign/sign.py``."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:24
msgid "Implementation"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:26
msgid ""
"The plugin is a Python file that must define the following two functions:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:29
msgid "For signing packages"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:31
msgid ""
"def sign(ref, artifacts_folder, signature_folder, **kwargs):\n"
"    \"\"\"\n"
"    :param ref: The package reference being signed.\n"
"    :param artifacts_folder: Path to the folder containing the package "
"artifacts (conaninfo.txt, conan_package.tgz, etc).\n"
"    :param signature_folder: Path to the folder where signatures should be "
"written (metadata/sign).\n"
"    :return: A list of signature dictionaries with their signing method and "
"provider and the signing artifacts generated that are included in the "
"package\n"
"    \"\"\"\n"
"    # Logic to compute signatures of files in artifacts_folder\n"
"    # and write them to signature_folder.\n"
"    #\n"
"    # The signature_folder should only store the files that are part of the "
"signature.\n"
"    # These files will be uploaded with the package and downloaded when\n"
"    # it is installed (usually the metadata is not downloaded by default,\n"
"    # but the metadata/sign folder is) so the signature verification\n"
"    # is always done.\n"
"    #\n"
"    return [\n"
"      {\n"
"          \"method\": \"openssl-dgst\",  # The signing method indicates the "
"tool used to sign the package so it can be verified later\n"
"          \"provider\": \"my-organization\",  # The signing provider "
"indicates the organization that signed the package, so the correct public "
"key is used for verification\n"
"          \"sign_artifacts\": {\n"
"              \"manifest\": \"pkgsign-manifest.json\",  # This manifest file "
"is generated by Conan and should be added here\n"
"              \"signature\": \"pkgsign-manifest.json.sig\"  # This is the "
"signature file, typically signing the manifest file\n"
"          }\n"
"      }\n"
"    ]"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:61
msgid "The manifest file: ``pkgsign-manifest.json``"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:63
msgid ""
"Conan will **generate a JSON manifest file** called ``pkgsign-manifest."
"json`` in the signature folder right before calling the ``sign()`` method of "
"the plugin. This file is useful to check the integrity of the package and to "
"**perform the sign over it by just signing this file (recommended)**."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:66
#: ../../../reference/extensions/package_signing.rst:106
msgid "Here is an example of the contents:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:68
msgid "*<signature_folder>/pkgsign-manifest.json*"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:68
msgid ""
" {\n"
"   \"files\":[\n"
"     {\n"
"       \"file\":\"conan_export.tgz\",\n"
"       \"sha256\":"
"\"45c89ebf7d37d05f53472535db0d347019263bb5c6b990319108db6e66b85fe3\"\n"
"     },\n"
"     {\n"
"       \"file\":\"conan_sources.tgz\",\n"
"       \"sha256\":"
"\"e757aa62bf6ac3cc5e36ecbd3c82c04d0faff46a61223189ee07e16489ef7c99\"\n"
"     },\n"
"     {\n"
"       \"file\":\"conanfile.py\",\n"
"       \"sha256\":"
"\"12cc1f6477f6512158914c1041833db0b417d07d8f4f2538b07e5e4661d0139b\"\n"
"     },\n"
"     {\n"
"       \"file\":\"conanmanifest.txt\",\n"
"       \"sha256\":"
"\"8d001ac33f5ea7e818d7c2e1aa2eb920d87472ada0b3abfeb0d8b2aaa1248653\"\n"
"     }\n"
"   ]\n"
" }"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:93
msgid "The signatures file: ``pkgsign-signatures.json``"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:95
msgid ""
"The ``sign()`` function **should return a list of signatures** (see the "
"example above) that will be **automatically saved by Conan into a JSON "
"file** called ``pkgsign-signatures.json``. This file is intended to list the "
"signature metadata like the ``provider`` or ``method`` and the files that "
"are part of the signature in the ``sign_artifacts`` field."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:98
msgid ""
"``method``: The signing method **indicates the tool used to sign the package "
"so it can be verified later**. For example: gpg, cosign, x509, openssl..."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:99
msgid ""
"``provider``: The **name of the organization** that signed the package. This "
"is useful to later **verify the package with a matching public key** "
"provided by the organization."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:100
msgid ""
"``sign_artifacts``: A dictionary of the **files that are part of the "
"signature**. Normally this should include a ``manifest`` key with the "
"manifest ``pkgsign-manifest.json`` file, and a ``signature`` key with the "
"signature file ``pkgsign-manifest.json.sig`` (or any other signature "
"format). This is useful to identify the files involved in the signature so "
"that they can be used later in the ``verify()`` function."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:104
msgid ""
"Additionally, **more than one signature is supported**, in case you need to "
"sign with different formats or transition from one signature method to "
"another."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:108
msgid "*<signature_folder>/pkgsign-signatures.json*"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:108
msgid ""
" {\n"
"   \"signatures\": [\n"
"     {\n"
"       \"method\": \"openssl-dgst\",\n"
"       \"provider\": \"my-organization\",\n"
"       \"sign_artifacts\": {\n"
"         \"manifest\": \"pkgsign-manifest.json\",\n"
"         \"signature\": \"pkgsign-manifest.json.sig\"\n"
"       }\n"
"     }\n"
"   ]\n"
" }"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:125
msgid "For verifying packages"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:127
msgid "The following function should be implemented in the plugin:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:129
msgid ""
"def verify(ref, artifacts_folder, signature_folder, files, **kwargs):\n"
"    \"\"\"\n"
"    :param ref: The package reference being verified.\n"
"    :param artifacts_folder: Path to the folder containing the package "
"artifacts.\n"
"    :param signature_folder: Path to the folder containing the signatures.\n"
"    :param files: Dictionary of names and paths of the files in the "
"package.\n"
"    \"\"\"\n"
"    # Logic to verify that files in artifacts_folder match the\n"
"    # signatures in signature_folder.\n"
"    pass"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:142
msgid ""
"This function does not return any value. Instead, it is expected that it "
"raises a ``ConanException`` if the verification of the signature fails."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:144
msgid ""
"Before calling the ``verify()`` function, **Conan will perform an integrity "
"check** calculating the checksums of the package files and checking against "
"the manifest ``pkgsign-manifest.json`` file (if the file is present)."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:149
msgid ""
"Note that the ``**kwargs`` argument in both functions is required to ensure "
"forward compatibility. Future versions of Conan may pass additional "
"parameters, and omitting ``**kwargs`` could break your plugin."
msgstr ""

#: ../../../reference/extensions/package_signing.rst:154
msgid "Commands"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:156
msgid ""
"The :command:`conan cache sign` command will trigger the ``sign()`` method "
"of the configured signing plugin and sign the recipe and packages:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:158
msgid ""
"$ conan cache sign mypkg/1.0.0\n"
"[Package sign] Results:\n"
"\n"
"mypkg/1.0\n"
"  revisions\n"
"    294e801a0e1da10084441487e95b80e8\n"
"      packages\n"
"        7b737f1649e252dd60b2aefeabe5b6ef5e1a4750\n"
"          revisions\n"
"            7722a3748274ae073736f20d84428fe9\n"
"        dee9f7f985eb1c20e3c41afaa8c35e2a34b5ae0b\n"
"          revisions\n"
"            829868ff6774b7da8c1eace8d76e71f1\n"
"\n"
"[Package sign] Summary: OK=3, FAILED=0"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:176
msgid ""
"And the :command:`conan cache verify` command will trigger the ``verify()`` "
"method of the plugin and verify the recipe and packages as well:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:178
msgid ""
"$ conan cache verify mypkg/1.0.0\n"
"[Package sign] Results:\n"
"\n"
"mypkg/1.0\n"
"  revisions\n"
"    294e801a0e1da10084441487e95b80e8\n"
"      packages\n"
"        7b737f1649e252dd60b2aefeabe5b6ef5e1a4750\n"
"          revisions\n"
"            7722a3748274ae073736f20d84428fe9\n"
"        dee9f7f985eb1c20e3c41afaa8c35e2a34b5ae0b\n"
"          revisions\n"
"            829868ff6774b7da8c1eace8d76e71f1\n"
"\n"
"[Package sign] Summary: OK=3, FAILED=0"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:197
msgid "Here is a usual flow for signing and verifying packages:"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:199
msgid ""
"$ conan create --name=mypkg --version=1.0.0\n"
"$ conan cache sign mypkg/1.0.0\n"
"$ conan upload mypkg/1.0.0 --remote=myremote\n"
"...\n"
"$ conan install --requires=mypkg/1.0.0  # This will trigger verify() when "
"the package is downloaded from a remote\n"
"# When the package is signed, the verify() can be done at anytime with:\n"
"$ conan cache verify mypkg/1.0.0"
msgstr ""

#: ../../../reference/extensions/package_signing.rst:211
msgid ""
"The :command:`conan upload` command **will not automatically sign** the "
"packages since Conan 2.26.0. Please make sure to use the :command:`conan "
"cache sign` command to **sign the packages before uploading them**, and "
"**update your plugin** to conform to the new implementation."
msgstr ""
