<!DOCTYPE html>
<html class="writer-html5" lang="en-US" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Circle CI &mdash; conan 1.66.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/conan.css?v=f9087e22" />

  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/integrations/ci/circleci.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=7a1b8f24"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Microsoft’s Azure DevOps (TFS, VSTS)" href="azure_devops.html" />
    <link rel="prev" title="Gitlab" href="gitlab.html" />


 



</script>
<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/conan-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.66
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conan_v2.html">Conan migration guide to 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_courses.html">Training Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending.html">Extending Conan</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../integrations.html">Integrations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../compilers.html">Compilers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build_system.html">Build systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ides.html">IDEs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ci.html">CI Platforms</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="jenkins.html"> Jenkins</a></li>
<li class="toctree-l3"><a class="reference internal" href="travisci.html"> Travis CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="appveyor.html"> Appveyor</a></li>
<li class="toctree-l3"><a class="reference internal" href="gitlab.html"> Gitlab</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"> Circle CI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-and-testing-your-project">Building and testing your project</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-testing-and-uploading-conan-package-binaries">Creating, testing and uploading Conan package binaries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="azure_devops.html"> Microsoft’s Azure DevOps (TFS, VSTS)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cross_platform.html">Other Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vcs.html">Version Control System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../custom.html">Custom integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linting.html">Linting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html">Deployment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #eb8484;background-color: #ffcaca;padding: 3px;margin-bottom: 5px">
              <p>This document is for a <b>"1.X" legacy</b> Conan version, <b>which is no longer recommended</b>. Please update to Conan 2, <a href="https://docs.conan.io/2/">click here to read the <b>Conan 2</b> documentation</a></p>
            </div>
            
            <div style="border: 2px solid #c6ac58;background-color: #f7ecc6;padding: 3px">
              <p>Conan Center has stopped receiving updates for Conan 1.x packages. A new https://center2.conan.io Conan 2-only remote is now available. <a href="https://blog.conan.io/2024/09/30/Conan-Center-will-stop-receiving-updates-for-Conan-1.html">Read the blog post</a></p>
            </div>
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../integrations.html">Integrations</a></li>
          <li class="breadcrumb-item"><a href="../ci.html">CI Platforms</a></li>
      <li class="breadcrumb-item active"> Circle CI</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/master/integrations/ci/circleci.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="circleci-logo-circle-ci">
<span id="circleci"></span><span id="circleci-integration"></span><h1><img alt="circleci_logo" src="../../_images/conan-circleci_logo.png" /> Circle CI<a class="headerlink" href="#circleci-logo-circle-ci" title="Link to this heading"></a></h1>
<p>You can use the <a class="reference external" href="https://circleci.com/">Circle CI</a> cloud to automatically build and test your project in Linux/MacOS environments.
It is free for OSS projects, and offers an easy integration with Github, so builds can be automatically
fired in CircleCI after a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> to Github.</p>
<p>You can use CircleCI both for:</p>
<ul class="simple">
<li><p>Building and testing your project, which manages dependencies with Conan, and probably a conanfile.txt file</p></li>
<li><p>Building and testing Conan binary packages for a given Conan package recipe (with a conanfile.py)</p></li>
</ul>
<section id="building-and-testing-your-project">
<h2>Building and testing your project<a class="headerlink" href="#building-and-testing-your-project" title="Link to this heading"></a></h2>
<p>We are going to use an example with GTest package, with <strong>CircleCI</strong> support to run the tests.</p>
<p>Clone the project from github:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/lasote/conan-gtest-example
</pre></div>
</div>
<p>Create a <code class="docutils literal notranslate"><span class="pre">.circleci/config.yml</span></code> file and paste this code in it:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>version: 2
gcc-6:
  docker:
    - image: conanio/gcc6
  steps:
    - checkout
    - run:
        name: Build Conan package
        command: |
          sudo pip install --upgrade conan
          conan user
          conan create . user/channel
workflows:
  version: 2
  build_and_test:
    jobs:
    - gcc-6
</pre></div>
</div>
<p>CircleCI will install the <strong>Conan</strong> tool and will execute the <strong>conan create</strong> command.
Then, the <strong>script</strong> section creates the build folder, compiles the project with <strong>cmake</strong> and runs the <strong>tests</strong>.</p>
</section>
<section id="creating-testing-and-uploading-conan-package-binaries">
<h2>Creating, testing and uploading Conan package binaries<a class="headerlink" href="#creating-testing-and-uploading-conan-package-binaries" title="Link to this heading"></a></h2>
<p>You can use CircleCI to automate the building of binary packages, which will be created in the
cloud after pushing to Github. You can probably set up your own way, but Conan has some utilities to help in the process.</p>
<p>The command <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">new</span></code> has arguments to create a default working <code class="docutils literal notranslate"><span class="pre">.circleci/config.yml</span></code> file.
Other setups might be possible, but for this example we are assuming that you are using github and also uploading your final packages to your own Artifactory CE server.
You could follow these steps:</p>
<ol class="arabic simple">
<li><p>First, create an empty Github repository (let’s call it “hello”) for creating a “hello world” package. Github allows to create it with a Readme, license and .gitignore.</p></li>
<li><p>Create a Conan repository in your Artifactory CE and get its URL (“Set me up”). We will call it <code class="docutils literal notranslate"><span class="pre">UPLOAD_URL</span></code></p></li>
<li><p>Under your project page, <em>Settings -&gt; Pipelines -&gt; Add a variable</em>, add the <code class="docutils literal notranslate"><span class="pre">CONAN_LOGIN_USERNAME</span></code> and <code class="docutils literal notranslate"><span class="pre">CONAN_PASSWORD</span></code> environment variables with the Artifactory CE user and password.</p></li>
<li><p>Clone the repo: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">clone</span> <span class="pre">&lt;your_repo/hello&gt;</span> <span class="pre">&amp;&amp;</span> <span class="pre">cd</span> <span class="pre">hello</span></code></p></li>
<li><p>Create the package: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">conan</span> <span class="pre">new</span> <span class="pre">hello/0.1&#64;myteam/testing</span> <span class="pre">-t</span> <span class="pre">-s</span> <span class="pre">-ciccg</span> <span class="pre">-ciccc</span> <span class="pre">-cicco</span> <span class="pre">-cis</span> <span class="pre">-ciu=UPLOAD_URL</span></code></p></li>
<li><p>You can inspect the created files: both <code class="docutils literal notranslate"><span class="pre">.circleci/config.yml</span></code> and the <code class="docutils literal notranslate"><span class="pre">build.py</span></code> script, that is used by <code class="docutils literal notranslate"><span class="pre">conan-package-tools</span></code> utility to split different builds with different configurations in different GitLab CI jobs.</p></li>
<li><p>You can test locally, before pushing, with <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">conan</span> <span class="pre">create</span></code></p></li>
<li><p>Add the changes, commit and push: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span> <span class="pre">&amp;&amp;</span> <span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;first</span> <span class="pre">commit&quot;</span> <span class="pre">&amp;&amp;</span> <span class="pre">git</span> <span class="pre">push</span></code></p></li>
<li><p>Go to Pipelines page and see the pipeline, with the different jobs.</p></li>
<li><p>When it has finished, go to your Artifactory CE repository, you should see there the uploaded packages for different configurations</p></li>
<li><p>Check locally, searching in Artifactory CE: <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">conan</span> <span class="pre">search</span> <span class="pre">hello/0.1&#64;myteam/testing</span> <span class="pre">-r=myremote</span></code></p></li>
</ol>
<p>If something fails, please report an issue in the <code class="docutils literal notranslate"><span class="pre">conan-package-tools</span></code> github repository: <a class="reference external" href="https://github.com/conan-io/conan-package-tools">https://github.com/conan-io/conan-package-tools</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gitlab.html" class="btn btn-neutral float-left" title="Gitlab" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="azure_devops.html" class="btn btn-neutral float-right" title="Microsoft’s Azure DevOps (TFS, VSTS)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">Last updated on Feb 16, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>