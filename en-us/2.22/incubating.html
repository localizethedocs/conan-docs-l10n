<!DOCTYPE html>
<html class="writer-html5" lang="en-US" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Incubating features &mdash; conan 2.22.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/incubating.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=8997baae"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="What’s new in Conan 2" href="whatsnew.html" />
    <link rel="prev" title="Community Resources" href="knowledge/community_resources.html" />


 



</script>
<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.22
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci_tutorial/tutorial.html">CI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledge.html">Knowledge</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Incubating features</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/incubating.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="incubating-features">
<span id="incubating"></span><h1>Incubating features<a class="headerlink" href="#incubating-features" title="Link to this heading">¶</a></h1>
<p>This section is dedicated to new features that are under development, looking for user testing and feedback.
They are generally behind a flag to enable them to be explicitly opted-in at this testing stage. They require the very latest
Conan version (sometimes recommended running from the <code class="docutils literal notranslate"><span class="pre">develop2</span></code> source branch), and explicitly setting those flags.</p>
<section id="new-cmakeconfigdeps-generator">
<h2>New CMakeConfigDeps generator<a class="headerlink" href="#new-cmakeconfigdeps-generator" title="Link to this heading">¶</a></h2>
<p>This generator is designed as a replacement of the current <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> generator, with multiple pending fixes and improvements that couldn’t easily be done in the current one without breaking:</p>
<ul class="simple">
<li><p>Creates real SHARED/STATIC/INTERFACE IMPORTED targets, no more artificial interface targets. The <code class="docutils literal notranslate"><span class="pre">CONAN_LIB::</span></code> and other similar targets do not exist anymore.</p></li>
<li><p>Defines IMPORTED_CONFIGURATIONS for targets.</p></li>
<li><p>CONFIG definition of dependencies matching the dependency <code class="docutils literal notranslate"><span class="pre">Release/Debug/etc</span></code> <code class="docutils literal notranslate"><span class="pre">build_type</span></code>, no longer using the consumer one.</p></li>
<li><p>Definition of IMPORTED_LOCATION and IMPORTED_IMPLIB for library targets.</p></li>
<li><p>Definition of LINK_LANGUAGES based on the recipe <code class="docutils literal notranslate"><span class="pre">languages</span></code> and <code class="docutils literal notranslate"><span class="pre">cpp_info/component</span></code> <code class="docutils literal notranslate"><span class="pre">languages</span></code> properties.</p></li>
<li><p>All these allows better propagation of linkage requirement and visibility, avoiding some linkage error of transitive shared libraries in Linux.</p></li>
<li><p>Better definition of <code class="docutils literal notranslate"><span class="pre">requires</span></code> relationships across components inside the same package and with respect to other packages.</p></li>
<li><p>It doesn’t need any <code class="docutils literal notranslate"><span class="pre">build_context_activated</span></code> or <code class="docutils literal notranslate"><span class="pre">build_context_suffix</span></code> to use <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> dependencies.</p></li>
<li><p>Definition of <code class="docutils literal notranslate"><span class="pre">cpp_info/component.exe</span></code> information (should include the <code class="docutils literal notranslate"><span class="pre">.location</span></code> definition too), to define EXECUTABLE targets that can be run.</p></li>
<li><p>Executables from <code class="docutils literal notranslate"><span class="pre">requires</span></code> can also be used in non cross-build scenarios. When a <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> to the same depependency exists, then those executables will have priority.</p></li>
<li><p>Creation of a new <code class="docutils literal notranslate"><span class="pre">conan_cmakedeps_paths.cmake</span></code> that contains definitions of <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;_DIR</span></code> paths for direct finding of the dependencies. This file is also planned to be used in <code class="docutils literal notranslate"><span class="pre">cmake-conan</span></code> to extend its usage and avoid some current limitations due to the fact that a CMake driven installation cannot inject a toolchain later.</p></li>
<li><p>(new since Conan 2.14) Better management of the system OSX Frameworks through <code class="docutils literal notranslate"><span class="pre">cpp_info.frameworks</span></code>.</p></li>
<li><p>(new since Conan 2.14) Definition of <code class="docutils literal notranslate"><span class="pre">cpp_info/component.package_framework</span></code> information (should include the <code class="docutils literal notranslate"><span class="pre">.location</span></code> definition too,
e.g., <code class="docutils literal notranslate"><span class="pre">os.path.join(self.package_folder,</span> <span class="pre">&quot;MyFramework.framework&quot;,</span> <span class="pre">&quot;MyFramework&quot;)</span></code>) to define the custom OSX Framework library to be linked against.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This generator is only intended to generate <code class="docutils literal notranslate"><span class="pre">config.cmake</span></code> config files, it will not generate <code class="docutils literal notranslate"><span class="pre">Find*.cmake</span></code> find modules, and support for it is not planned.
Use the <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> generator for that.</p>
</div>
<p>The new fields that can be defined in the <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> or <code class="docutils literal notranslate"><span class="pre">cpp_info.components</span></code>, besides the already defined in <a class="reference internal" href="reference/conanfile/methods/package_info.html#conan-conanfile-model-cppinfo"><span class="std std-ref">CppInfo</span></a> are:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># EXPERIMENTAL FIELDS, used exclusively by new CMakeConfigDeps (-c tools.cmake.cmakedeps:new)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">type</span>  <span class="c1"># The type of this artifact &quot;shared-library&quot;, &quot;static-library&quot;, etc (same as package_type)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">location</span> <span class="c1"># full location (path and filename with extension) of the artifact or the Apple Framework library one</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">link_location</span>  <span class="c1"># Location of the import library for Windows .lib associated to a dll</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">languages</span> <span class="c1"># same as &quot;languages&quot; attribute, it can be &quot;C&quot;, &quot;C++&quot;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">exe</span>  <span class="c1"># Definition of an executable artifact</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">package_framework</span>  <span class="c1"># Definition of an Apple Framework (new since Conan 2.14)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">sources</span>  <span class="c1"># List of paths to source files in the package (for packages that provide source code to consumers)</span>
</pre></div>
</div>
<p>These fields will be auto-deduced from the other <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> and <code class="docutils literal notranslate"><span class="pre">components</span></code> definitions, like the <code class="docutils literal notranslate"><span class="pre">libs</span></code> or <code class="docutils literal notranslate"><span class="pre">libdirs</span></code> fields, but the automatic deduction might have limitations. Defining them explicitly will inhibit the auto deduction and use the value as provided by the recipe.</p>
<p>Declare sources for targets with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;src/mylib.cpp&quot;</span><span class="p">,</span> <span class="s2">&quot;src/other.cpp&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>This allows packages to provide source code as a dependency to consumers. The paths should be relative to the package folder.
The source files will be added as <cite>INTERFACE_SOURCES</cite> property to the CMake library (or component) target and consumers that
link with this target will compile the sources when building their own targets.</p>
<p>This feature is enabled with the <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">tools.cmake.cmakedeps:new=will_break_next</span></code> configuration. The value <code class="docutils literal notranslate"><span class="pre">will_break_next</span></code> will change in next releases to emphasize the fact that this feature is not suitable for usage beyond testing. Just by enabling this conf and forcing the build of packages that use <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> will trigger the usage of the new generator.</p>
<p>This new generator will also be usable in <code class="docutils literal notranslate"><span class="pre">conanfile</span></code> files with:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">generators</span><span class="p">]</span>
<span class="n">CMakeConfigDeps</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;CMakeConfigDeps&quot;</span>
</pre></div>
</div>
</div>
<p>Or:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan.tools.cmake</span><span class="w"> </span><span class="kn">import</span> <span class="n">CMakeConfigDeps</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">deps</span> <span class="o">=</span> <span class="n">CMakeConfigDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
      <span class="n">deps</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">tools.cmake.cmakedeps:new=will_break_next</span></code> is still necessary for this recipe <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> usage, if the config is not enabled, those recipes will fail.
It is also possible to define <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">tools.cmake.cmakedeps:new=recipe_will_break</span></code> to enable exclusively the <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generators usages, but not the automatic
replacement of existing <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> by the <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code>.</p>
<p>Note that the feature is still “incubating”, even for the explicit <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generator syntax, this recipe is subject to break or be removed at any time.</p>
<p>For any feedback, please open new tickets in <a class="reference external" href="https://github.com/conan-io/conan/issues">https://github.com/conan-io/conan/issues</a>.
This feedback is very important to stabilize the feature and get it out of incubating, so even if it worked fine and you found no issue, having the positive feedback
reported is very useful.</p>
</section>
<section id="workspaces">
<h2>Workspaces<a class="headerlink" href="#workspaces" title="Link to this heading">¶</a></h2>
<p>Moved to <a class="reference internal" href="tutorial/developing_packages/workspaces.html#tutorial-workspaces"><span class="std std-ref">Workspaces</span></a></p>
<section id="workspace-files-syntax">
<h3>Workspace files syntax<a class="headerlink" href="#workspace-files-syntax" title="Link to this heading">¶</a></h3>
<p>Moved to <a class="reference internal" href="reference/workspace_files.html#reference-workspace-files"><span class="std std-ref">Workspace files</span></a></p>
</section>
<section id="workspace-commands">
<h3>Workspace commands<a class="headerlink" href="#workspace-commands" title="Link to this heading">¶</a></h3>
<p>Moved to <a class="reference internal" href="reference/commands/workspace.html#reference-commands-workspace"><span class="std std-ref">conan workspace</span></a></p>
</section>
<section id="workspace-monolithic-builds">
<h3>Workspace monolithic builds<a class="headerlink" href="#workspace-monolithic-builds" title="Link to this heading">¶</a></h3>
<p>Moved to <a class="reference internal" href="tutorial/developing_packages/workspaces.html#tutorial-workspaces-monolithic"><span class="std std-ref">Monolithic build</span></a></p>
<p>For any feedback, please open new tickets in <a class="reference external" href="https://github.com/conan-io/conan/issues">https://github.com/conan-io/conan/issues</a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="knowledge/community_resources.html" class="btn btn-neutral float-left" title="Community Resources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="whatsnew.html" class="btn btn-neutral float-right" title="What’s new in Conan 2" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">Last updated on Feb 17, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>