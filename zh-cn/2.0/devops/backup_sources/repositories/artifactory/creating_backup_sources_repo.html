<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Creating an Artifactory backup repo for your sources &mdash; conan 2.0.17 文档</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/devops/backup_sources/repositories/artifactory/creating_backup_sources_repo.html" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=fc265b1e"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/translations.js?v=beaddf03"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../../search.html" />
    <link rel="next" title="Managing package metadata files" href="../../../metadata.html" />
    <link rel="prev" title="Backing up third-party sources with Conan" href="../../sources_backup.html" />


 



</script>
<script type="text/javascript" src="../../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html">
            
              <img src="../../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../devops.html">Devops guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../using_conancenter.html">Using ConanCenter packages in production environments</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../sources_backup.html">Backing up third-party sources with Conan</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Creating an Artifactory backup repo for your sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../metadata.html">Managing package metadata files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../versioning.html">Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../save_restore.html">Save and restore packages from/to the cache</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../devops.html">Devops guide</a></li>
          <li class="breadcrumb-item"><a href="../../sources_backup.html">Backing up third-party sources with Conan</a></li>
      <li class="breadcrumb-item active">Creating an Artifactory backup repo for your sources</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/devops/backup_sources/repositories/artifactory/creating_backup_sources_repo.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="creating-an-artifactory-backup-repo-for-your-sources">
<span id="devops-artifactory-backup-sources-repo"></span><h1>Creating an Artifactory backup repo for your sources<a class="headerlink" href="#creating-an-artifactory-backup-repo-for-your-sources" title="Link to this heading">¶</a></h1>
<p>For the backup repository, we’ll create a generic Artifactory repo using the free Community Edition version.</p>
<p>For this, in the repositories section of the administration tab,
we’ll create a new generic repository, and in this example we’ll imaginatively give it the name of <em>backup-sources</em>.</p>
<p>The URL of the remote should now be added to the <a class="reference internal" href="../../../../reference/config_files/global_conf.html#reference-config-files-global-conf"><span class="std std-ref">global.conf</span></a> file’s
<code class="docutils literal notranslate"><span class="pre">core.sources:upload_url</span></code> conf</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">global.conf</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>core.sources:upload_url=https://myteam.myorg.com/artifactory/backup-sources/
</pre></div>
</div>
</div>
<p>Next, as we want this to be a public read repo, we’ll allow anonymous read access to our repo.
<a class="reference external" href="https://jfrog.com/help/r/how-to-grant-an-anonymous-user-access-to-specific-repositories/artifactory-how-to-grant-an-anonymous-user-access-to-specific-repositories">See the official Artifactory documentation for a step-by-step guide on how to create one</a>.</p>
<p>Now, to be able to upload contents, we’ll also create a new user from the User Management section, called <em>backup uploader</em>,
and from the Access Tokens section, we’ll generate a reference token associated with the user</p>
<img alt="../../../../_images/create_reference_token.png" src="../../../../_images/create_reference_token.png" />
<p>The generated token should now live in the <a class="reference internal" href="../../../../reference/config_files/source_credentials.html#reference-config-files-source-credentials"><span class="std std-ref">source_credentials.json</span></a> file:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">source_credentials.json</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;credentials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://myteam.myorg.com/artifactory/backup-sources/&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cmVmdGtu1234567890abcdefghijklmnopqrstuvwxyz&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>And last but not least, from the Permissions section we’ll give the user manage access to the new repository
(which will automatically give it every other permission available, feel free to modify them according to your needs)</p>
<img alt="../../../../_images/permissions_add_backup_access.png" src="../../../../_images/permissions_add_backup_access.png" />
<p>With this, access to our remote backup is now configured to allow anonymous read but authenticated upload.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../sources_backup.html" class="btn btn-neutral float-left" title="Backing up third-party sources with Conan" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../metadata.html" class="btn btn-neutral float-right" title="Managing package metadata files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最后更新于 2月 17, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>