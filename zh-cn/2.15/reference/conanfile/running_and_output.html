<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running and output &mdash; conan 2.15.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/conanfile/running_and_output.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=556a1695"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=beaddf03"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="conanfile.txt" href="../conanfile_txt.html" />
    <link rel="prev" title="validate_build()" href="methods/validate_build.html" />


 



</script>
<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ci_tutorial/tutorial.html">CI 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../commands.html">Commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../conanfile.html">conanfile.py</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="attributes.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="methods.html">Methods</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Running and output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binary_model.html">The binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../runners.html">Runners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../conanfile.html">conanfile.py</a></li>
      <li class="breadcrumb-item active">Running and output</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/conanfile/running_and_output.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-and-output">
<span id="reference-conanfile-output"></span><h1>Running and output<a class="headerlink" href="#running-and-output" title="Link to this heading">¶</a></h1>
<section id="output-text-from-recipes">
<h2>Output text from recipes<a class="headerlink" href="#output-text-from-recipes" title="Link to this heading">¶</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">self.output</span></code> attribute to output text from the recipes. Do <strong>not</strong> use Python’s <code class="docutils literal notranslate"><span class="pre">print()</span></code> function.
The <code class="docutils literal notranslate"><span class="pre">self.output</span></code> attribute has the following methods to express the level of the printed message:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">trace</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">verbose</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">status</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">highlight</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">success</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">warn_tag</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
<p>These output functions will only output if the verbosity level with which Conan was launched is the same or higher than the message,
so running with <code class="docutils literal notranslate"><span class="pre">-vwarning</span></code> will output calls to <code class="docutils literal notranslate"><span class="pre">warning()</span></code> and <code class="docutils literal notranslate"><span class="pre">error()</span></code>, but not <code class="docutils literal notranslate"><span class="pre">info()</span></code>
(Additionally, the <code class="docutils literal notranslate"><span class="pre">highlight()</span></code> and <code class="docutils literal notranslate"><span class="pre">success()</span></code> methods have a <code class="docutils literal notranslate"><span class="pre">-vnotice</span></code> verbosity level)</p>
<p>Note that these methods return the output object again, so that you can chain output calls if needed.</p>
<p>Using the <code class="docutils literal notranslate"><span class="pre">core:warnings_as_errors</span></code> conf, you can make Conan raise an exception when either errors or a tagged warning matching any of the given patterns is printed.
This is useful to make sure that recipes are not printing unexpected warnings or errors.
Additionally, you can skip which warnings trigger an exception <a class="reference internal" href="../config_files/global_conf.html#reference-config-files-global-conf-skip-warnings"><span class="std std-ref">with the *core:skip_warnings* conf</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># Raise an exception if any warning or error is printed
core:warnings_as_errors=[&#39;*&#39;]
# But skip the deprecation warnings
core:skip_warnings=[&#39;deprecated&#39;]
</pre></div>
</div>
<p>Both confs accept a list of patterns to match against the warning tags.
A special <code class="docutils literal notranslate"><span class="pre">unknown</span></code> value can be used to match any warning without a tag.</p>
<p>To tag a warning, use the <code class="docutils literal notranslate"><span class="pre">warn_tag</span></code> argument of the <code class="docutils literal notranslate"><span class="pre">warning()</span></code> method in your recipes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Extra warning&quot;</span><span class="p">,</span> <span class="n">warn_tag</span><span class="o">=</span><span class="s2">&quot;custom_tag&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p id="reference-conanfile-run">The common use of these functions from least specific to most specific, is:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>error(msg)</strong>:</dt><dd><p>Indicates that a serious issue has occurred that prevents the system or application
from continuing to function correctly. Typically, this represents a failure in the normal flow of execution,
such as a service crash or a critical exception.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>warning(msg, warn_tag=None)</strong>:</dt><dd><p>Highlights a potential issue that, while not stopping the system,
could cause problems in the future or under certain conditions. Warnings signal abnormal situations that should be
reviewed but don’t necessarily cause an immediate halt in operations.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>success(msg)</strong>:</dt><dd><p>Shows that an operation has been completed successfully. This type of message is useful to confirm
that key processes or tasks have finished correctly, which is essential for good application monitoring.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>highlight(msg)</strong>:</dt><dd><p>Marks or emphasizes important events or processes that need to stand out but don’t necessarily
indicate success or error. These messages draw attention to key points that may be relevant for the user or administrator.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>info(msg)</strong>:</dt><dd><p>Provides general information about the system or ongoing operations. Info messages are basic and used
to inform about common events, like the start or completion of processes, without implying specific problems or achievements.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>status(msg)</strong>:</dt><dd><p>Reports the current state of the system or an ongoing operation. Status messages provide updates on
how something is working, often in real time, to offer a clear view of the progress or situation of a process.</p>
</dd>
</dl>
</li>
</ul>
<p>The following three methods are not shown by default and are usually reserved for scenarios that require a higher level
of verbosity. You can display them using the arguments <code class="docutils literal notranslate"><span class="pre">-v</span></code>, <code class="docutils literal notranslate"><span class="pre">-vv</span></code>, and <code class="docutils literal notranslate"><span class="pre">-vvv</span></code> respectively.</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>verbose(msg)</strong>:</dt><dd><p>Displays additional and detailed information that, while not critical, can be useful for better
understanding how the system is working. It’s appropriate for gaining more context without overloading the logs with
excessive detail. Useful when more clarity is needed than a simple info.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>debug(msg)</strong>:</dt><dd><p>With a high level of detail, it is mainly used for debugging code. These messages provide useful
information for developers, such as variable values or execution flow details, to trace errors or analyze the program’s
behavior.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>trace(msg)</strong>:</dt><dd><p>This is the most extreme level of detail. Trace messages log every little step the system takes,
including function entries and exits, variable changes, and other very specific events. It’s used when full visibility
of everything happening in the system is required, but should be used carefully due to the large amount of information
it can generate.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="running-commands">
<h2>Running commands<a class="headerlink" href="#running-commands" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;build&quot;</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">self.run()</span></code> is a helper to run system commands while injecting the calls to activate the appropriate environment,
and throw exceptions when errors occur so that command errors do not pass unnoticed.
It also wraps the commands with the results of the <a class="reference internal" href="../extensions/command_wrapper.html#reference-extensions-command-wrapper"><span class="std std-ref">command wrapper plugin</span></a>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">command</span></code> should be specified as a string which is passed to the system shell.</p></li>
<li><p>When the argument <code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to true, the invocation of <code class="docutils literal notranslate"><span class="pre">self.run()</span></code> will not print the command to be executed.</p></li>
</ul>
<p>Use the <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code> arguments to redirect the output of the command to a file-like object instead of the console.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Redirect stdout to a file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;ninja_stdout.log&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stdout</span><span class="p">:</span>
    <span class="c1"># Redirect stderr to a StringIO object to be able to read it later</span>
    <span class="n">stderr</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;ninja ...&quot;</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="methods/validate_build.html" class="btn btn-neutral float-left" title="validate_build()" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../conanfile_txt.html" class="btn btn-neutral float-right" title="conanfile.txt" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最后更新于 10月 28, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>