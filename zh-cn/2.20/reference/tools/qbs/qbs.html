<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qbs &mdash; conan 2.20.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/tools/qbs/qbs.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=ea7e93f6"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/translations.js?v=beaddf03"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" />
    <link rel="next" title="QbsDeps" href="qbsdeps.html" />
    <link rel="prev" title="conan.tools.qbs" href="../qbs.html" />


 



</script>
<script type="text/javascript" src="../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.20
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">Workspace files</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tools.html">Recipe tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../android.html">conan.tools.android</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apple.html">conan.tools.apple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan.tools.build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cmake.html">conan.tools.cmake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp_info.html">conan.tools.CppInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html">conan.tools.env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../files.html">conan.tools.files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gnu.html">conan.tools.gnu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../google.html">conan.tools.google</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel.html">conan.tools.intel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layout.html">conan.tools.layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">conan.tools.meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microsoft.html">conan.tools.microsoft</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../qbs.html">conan.tools.qbs</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Qbs</a></li>
<li class="toctree-l4"><a class="reference internal" href="qbsdeps.html">QbsDeps</a></li>
<li class="toctree-l4"><a class="reference internal" href="qbsprofile.html">QbsProfile</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ros.html">conan.tools.ros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sbom.html">conan.tools.sbom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scm.html">conan.tools.scm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scons.html">conan.tools.scons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../premake.html">conan.tools.premake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">conan.tools.system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">The binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">Runners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../tools.html">Recipe tools</a></li>
          <li class="breadcrumb-item"><a href="../qbs.html">conan.tools.qbs</a></li>
      <li class="breadcrumb-item active">Qbs</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/tools/qbs/qbs.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="qbs">
<span id="conan-tools-qbs-helper"></span><h1>Qbs<a class="headerlink" href="#qbs" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Qbs</span></code> build helper is a wrapper around the command line invocation of the Qbs build tool.
It will abstract the calls like <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">build</span></code> and <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">install</span></code> into Python
method calls.</p>
<p>The helper is intended to be used in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> and <code class="docutils literal notranslate"><span class="pre">package()</span></code> methods, to call Qbs
commands automatically when a package is being built directly by Conan (create, install).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan.tools.qbs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Qbs</span><span class="p">,</span> <span class="n">QbsProfile</span><span class="p">,</span> <span class="n">QbsDeps</span>

<span class="k">class</span><span class="w"> </span><span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="n">exports_sources</span> <span class="o">=</span> <span class="s2">&quot;*.h&quot;</span><span class="p">,</span> <span class="s2">&quot;*.cpp&quot;</span><span class="p">,</span> <span class="s2">&quot;*.qbs&quot;</span><span class="p">,</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;hello/0.1&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span> <span class="s2">&quot;fPIC&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]}</span>
    <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;fPIC&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="n">QbsProfile</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">profile</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="n">QbsDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">deps</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">qbs</span> <span class="o">=</span> <span class="n">Qbs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">qbs</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="n">qbs</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">qbs</span> <span class="o">=</span> <span class="n">Qbs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">qbs</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
</pre></div>
</div>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="conan.tools.qbs.qbs.Qbs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Qbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conanfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.qbs.qbs.Qbs" title="Link to this definition">¶</a></dt>
<dd><p>Qbs helper to use together with the QbsDeps feature.
This class provides helper methods that wraps calls to the Qbs tool.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conanfile</strong> – The current recipe object. Always use <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
<li><p><strong>project_file</strong> – The name to the main project file. If not set, Qbs will try to
autodetect the project file.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.qbs.qbs.Qbs.add_configuration">
<span class="sig-name descname"><span class="pre">add_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.qbs.qbs.Qbs.add_configuration" title="Link to this definition">¶</a></dt>
<dd><p>Adds a build configuration for the multi-configuration build.
This Qbs feature is rarely needed since each conan package can contain only one
configuration, however might be useful when creating multiple versions of the same product
that should be put in the same Conan package.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the configuration. This corresponds to the <code class="docutils literal notranslate"><span class="pre">config</span></code> parameter
of <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">build</span></code> and <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">install</span></code> commands.</p></li>
<li><p><strong>values</strong> – the dict containing Qbs properties and their values for this configuration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.qbs.qbs.Qbs.resolve">
<span class="sig-name descname"><span class="pre">resolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.qbs.qbs.Qbs.resolve" title="Link to this definition">¶</a></dt>
<dd><p>Wraps the <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">resolve</span></code> call.
If QbsDeps generator is used, this will also set the necessary properites of the Qbs
“conan” module provider automatically adding dependencies to the project.
:param parallel: Whether to use multi-threaded resolving. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.qbs.qbs.Qbs.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">products</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.qbs.qbs.Qbs.build" title="Link to this definition">¶</a></dt>
<dd><p>Wraps the <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">build</span></code> call.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>products</strong> – The list of product names to build. If not set, builds all products that
have builtByDefault set to true. This parameter corresponds to the <code class="docutils literal notranslate"><span class="pre">--products</span></code>
option of the <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">build</span></code> command.</p>
</dd>
</dl>
<p>The resolve() method should be called before calling this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.qbs.qbs.Qbs.build_all">
<span class="sig-name descname"><span class="pre">build_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.qbs.qbs.Qbs.build_all" title="Link to this definition">¶</a></dt>
<dd><p>Wraps the <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">build</span> <span class="pre">--all-products</span></code> call.
This method builds all products, even if their builtByDefault property is false.
The resolve() method should be called before calling this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.qbs.qbs.Qbs.install">
<span class="sig-name descname"><span class="pre">install</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.qbs.qbs.Qbs.install" title="Link to this definition">¶</a></dt>
<dd><p>Wraps the <code class="docutils literal notranslate"><span class="pre">qbs</span> <span class="pre">install</span></code> call.
Perfoms the installation of files marked as installable in the Qbs project.
The build() or build_all() methods should be called before calling this method.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../qbs.html" class="btn btn-neutral float-left" title="conan.tools.qbs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="qbsdeps.html" class="btn btn-neutral float-right" title="QbsDeps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最后更新于 10月 28, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>