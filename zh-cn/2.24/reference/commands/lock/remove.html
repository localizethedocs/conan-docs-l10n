<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>conan lock remove &mdash; conan 2.24.0 文档</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/commands/lock/remove.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=e821f747"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/translations.js?v=beaddf03"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" />
    <link rel="next" title="conan lock update" href="update.html" />
    <link rel="prev" title="conan lock merge" href="merge.html" />


 



</script>
<script type="text/javascript" src="../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.24
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">Binary model</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../commands.html">Commands</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../cache.html">conan cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config.html">conan config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../graph.html">conan graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../inspect.html">conan inspect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html">conan install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../list.html">conan list</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../lock.html">conan lock</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="add.html">conan lock add</a></li>
<li class="toctree-l4"><a class="reference internal" href="create.html">conan lock create</a></li>
<li class="toctree-l4"><a class="reference internal" href="merge.html">conan lock merge</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">conan lock remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="update.html">conan lock update</a></li>
<li class="toctree-l4"><a class="reference internal" href="upgrade.html">conan lock upgrade</a></li>
<li class="toctree-l4"><a class="reference internal" href="upgrade_config.html">conan lock upgrade-config</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pkglist.html">conan pkglist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../profile.html">conan profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../remove.html">conan remove</a></li>
<li class="toctree-l3"><a class="reference internal" href="../remote.html">conan remote</a></li>
<li class="toctree-l3"><a class="reference internal" href="../search.html">conan search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../version.html">conan version</a></li>
<li class="toctree-l3"><a class="reference internal" href="../workspace.html">conan workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../run.html">conan run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create.html">conan create</a></li>
<li class="toctree-l3"><a class="reference internal" href="../download.html">conan download</a></li>
<li class="toctree-l3"><a class="reference internal" href="../editable.html">conan editable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../export.html">conan export</a></li>
<li class="toctree-l3"><a class="reference internal" href="../export-pkg.html">conan export-pkg</a></li>
<li class="toctree-l3"><a class="reference internal" href="../new.html">conan new</a></li>
<li class="toctree-l3"><a class="reference internal" href="../source.html">conan source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../test.html">conan test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upload.html">conan upload</a></li>
<li class="toctree-l3"><a class="reference internal" href="../audit.html">conan audit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../report.html">conan report</a></li>
<li class="toctree-l3"><a class="reference internal" href="../formatters/graph_info_json_formatter.html">Formatter: Graph-info JSON</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">Workspace files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../commands.html">Commands</a></li>
          <li class="breadcrumb-item"><a href="../lock.html">conan lock</a></li>
      <li class="breadcrumb-item active">conan lock remove</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/commands/lock/remove.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="conan-lock-remove">
<h1>conan lock remove<a class="headerlink" href="#conan-lock-remove" title="Link to this heading">¶</a></h1>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ conan lock remove -h
usage: conan lock remove [-h] [--out-file OUT_FILE]
                         [-v [{quiet,error,warning,notice,status,verbose,debug,v,trace,vv}]]
                         [-cc CORE_CONF] [--requires REQUIRES]
                         [--build-requires BUILD_REQUIRES]
                         [--python-requires PYTHON_REQUIRES]
                         [--config-requires CONFIG_REQUIRES]
                         [--lockfile-out LOCKFILE_OUT] [--lockfile LOCKFILE]

Remove requires, build-requires or python-requires from an existing lockfile.
References can be supplied with and without revisions like &quot;--
requires=pkg/version&quot;,

options:
  -h, --help            show this help message and exit
  --out-file OUT_FILE   Write the output of the command to the specified file
                        instead of stdout.
  -v [{quiet,error,warning,notice,status,verbose,debug,v,trace,vv}]
                        Level of detail of the output. Valid options from less
                        verbose to more verbose: -vquiet, -verror, -vwarning,
                        -vnotice, -vstatus, -v or -vverbose, -vv or -vdebug,
                        -vvv or -vtrace
  -cc CORE_CONF, --core-conf CORE_CONF
                        Define core configuration, overwriting global.conf
                        values. E.g.: -cc core:non_interactive=True
  --requires REQUIRES   Remove references to lockfile.
  --build-requires BUILD_REQUIRES
                        Remove build-requires from lockfile
  --python-requires PYTHON_REQUIRES
                        Remove python-requires from lockfile
  --config-requires CONFIG_REQUIRES
                        Remove config-requires from lockfile
  --lockfile-out LOCKFILE_OUT
                        Filename of the created lockfile
  --lockfile LOCKFILE   Filename of the input lockfile
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">remove</span></code> command is able to remove <code class="docutils literal notranslate"><span class="pre">requires</span></code>, <code class="docutils literal notranslate"><span class="pre">build_requires</span></code>, <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> or <code class="docutils literal notranslate"><span class="pre">config_requires</span></code> items from an existing lockfile.</p>
<p>For example, if we have the following <code class="docutils literal notranslate"><span class="pre">conan.lock</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>conan.lock
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;version&quot;</span>:<span class="w"> </span><span class="s2">&quot;0.5&quot;</span>,
<span class="w">    </span><span class="s2">&quot;requires&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">        </span><span class="s2">&quot;math/1.0#85d927a4a067a531b1a9c7619522c015%1702683583.3411012&quot;</span>,
<span class="w">        </span><span class="s2">&quot;engine/1.0#fd2b006646a54397c16a1478ac4111ac%1702683583.3544693&quot;</span>
<span class="w">    </span><span class="o">]</span>,
<span class="w">    </span><span class="s2">&quot;build_requires&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">        </span><span class="s2">&quot;cmake/1.0#85d927a4a067a531b1a9c7619522c015%1702683583.3411012&quot;</span>,
<span class="w">        </span><span class="s2">&quot;ninja/1.0#fd2b006646a54397c16a1478ac4111ac%1702683583.3544693&quot;</span>
<span class="w">    </span><span class="o">]</span>,
<span class="w">    </span><span class="s2">&quot;python_requires&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">        </span><span class="s2">&quot;mytool/1.0#85d927a4a067a531b1a9c7619522c015%1702683583.3411012&quot;</span>,
<span class="w">        </span><span class="s2">&quot;othertool/1.0#fd2b006646a54397c16a1478ac4111ac%1702683583.3544693&quot;</span>
<span class="w">    </span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">remove</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>lock<span class="w"> </span>remove<span class="w"> </span>--requires<span class="o">=</span><span class="s2">&quot;math/*&quot;</span><span class="w"> </span>--build-requires<span class="o">=</span>cmake/1.0<span class="w"> </span>--python-requires<span class="o">=</span><span class="s2">&quot;*tool/*&quot;</span>
</pre></div>
</div>
<p>Will result in the following <code class="docutils literal notranslate"><span class="pre">conan.lock</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>conan.lock
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;version&quot;</span>:<span class="w"> </span><span class="s2">&quot;0.5&quot;</span>,
<span class="w">    </span><span class="s2">&quot;requires&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">        </span><span class="s2">&quot;engine/1.0#fd2b006646a54397c16a1478ac4111ac%1702683583.3544693&quot;</span>
<span class="w">    </span><span class="o">]</span>,
<span class="w">    </span><span class="s2">&quot;build_requires&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">        </span><span class="s2">&quot;ninja/1.0#fd2b006646a54397c16a1478ac4111ac%1702683583.3544693&quot;</span>
<span class="w">    </span><span class="o">]</span>,
<span class="w">    </span><span class="s2">&quot;python_requires&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">    </span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>It is possible to specify different patterns:</p>
<ul class="simple">
<li><p>Remove by version-ranges with expressions like <code class="docutils literal notranslate"><span class="pre">--requires=&quot;math/[&gt;=1.0</span> <span class="pre">&lt;2]&quot;</span></code>, and also</p></li>
<li><p>Remove a specific revision: <code class="docutils literal notranslate"><span class="pre">--requires=math/1.0#revision</span></code></p></li>
<li><p>Remove locked dependencies for a given “team” user <code class="docutils literal notranslate"><span class="pre">--requires=*/*&#64;team*</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">remove</span></code> can be useful for:</p>
<ul class="simple">
<li><p>In combination with <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">add</span></code>, it can be used to force the downgrade of a locked version to an older one. As <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">add</span></code>
always adds and sorts the order, resulting in newer versions with high priority, it is not possible to force going back to an older
version with just <code class="docutils literal notranslate"><span class="pre">add</span></code>. But first using <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">remove</span></code>, then <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">add</span></code>, it is possible to do so.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">lock</span> <span class="pre">remove</span></code> can unlock certain dependencies, resulting in an incomplete lockfile, that can be used with <code class="docutils literal notranslate"><span class="pre">--lockfile-partial</span></code>
to resolve to the latest available versions for the unlocked dependencies, while keeping locked the rest.</p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="merge.html" class="btn btn-neutral float-left" title="conan lock merge" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="update.html" class="btn btn-neutral float-right" title="conan lock update" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最后更新于 2月 17, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>