<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Other important Conan features &mdash; conan 2.25.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/tutorial/other_features.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=65a55fc7"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Continuous Integration (CI) tutorial" href="../ci_tutorial/tutorial.html" />
    <link rel="prev" title="Dependencies conflicts" href="versioning/conflicts.html" />


 



</script>
<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="consuming_packages.html">Consuming packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_packages.html">Creating packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="conan_repositories.html">Working with Conan repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="developing_packages.html">Developing packages locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="versioning.html">Versioning</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Other important Conan features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ci_tutorial/tutorial.html">CI 教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../tutorial.html">Tutorial</a></li>
      <li class="breadcrumb-item active">Other important Conan features</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/tutorial/other_features.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="other-important-conan-features">
<span id="other-important-features"></span><h1>Other important Conan features<a class="headerlink" href="#other-important-conan-features" title="Link to this heading">¶</a></h1>
<section id="python-requires">
<h2>python_requires<a class="headerlink" href="#python-requires" title="Link to this heading">¶</a></h2>
<p>It is possible to reuse code from other recipes using the <a class="reference internal" href="../reference/extensions/python_requires.html#reference-extensions-python-requires"><span class="std std-ref">python_requires feature</span></a>.</p>
<p>If you maintain many recipes for different packages that share some common logic and you don’t want to repeat the code in every recipe, you can put that common code in a Conan <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>, upload it to your server, and have other recipe conanfiles do a <code class="docutils literal notranslate"><span class="pre">python_requires</span> <span class="pre">=</span> <span class="pre">&quot;mypythoncode/version&quot;</span></code> to depend on it and reuse it.</p>
</section>
<section id="packages-lists">
<span id="other-important-features-pkglist"></span><h2>Packages lists<a class="headerlink" href="#packages-lists" title="Link to this heading">¶</a></h2>
<p>It is possible to manage a list of packages, recipes and binaries together with the “packages-list” feature.
Several commands like <code class="docutils literal notranslate"><span class="pre">upload</span></code>, <code class="docutils literal notranslate"><span class="pre">download</span></code>, and <code class="docutils literal notranslate"><span class="pre">remove</span></code> allow receiving a list of packages file as an input, and they can do their operations over that list.
A typical use case is to “upload to the server the packages that have been built in the last <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">create</span></code>”, which can be done with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--format<span class="o">=</span>json<span class="w"> </span>&gt;<span class="w"> </span>build.json
$<span class="w"> </span>conan<span class="w"> </span>list<span class="w"> </span>--graph<span class="o">=</span>build.json<span class="w"> </span>--graph-binaries<span class="o">=</span>build<span class="w"> </span>--format<span class="o">=</span>json<span class="w"> </span>&gt;<span class="w"> </span>pkglist.json
$<span class="w"> </span>conan<span class="w"> </span>upload<span class="w"> </span>--list<span class="o">=</span>pkglist.json<span class="w"> </span>-r<span class="o">=</span>myremote<span class="w"> </span>-c
</pre></div>
</div>
<p>See the <a class="reference internal" href="../examples/commands/pkglists.html#examples-commands-pkglists"><span class="std std-ref">examples in this section</span></a>.</p>
</section>
<section id="removing-unused-packages-from-the-cache">
<h2>Removing unused packages from the cache<a class="headerlink" href="#removing-unused-packages-from-the-cache" title="Link to this heading">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The (lru) least recently used feature is in <strong>preview</strong>.
See <a class="reference internal" href="../introduction.html#stability"><span class="std std-ref">the Conan stability</span></a> section for more information.</p>
</div>
<p>The Conan cache does not implement any automatic expiration policy, so its size will be always increasing unless
packages are removed or the cache is removed from time to time. It is possible to remove recipes and packages
that haven’t been used recently, while keeping those that have been used in a given time period (Least Recently Used LRU policy).
This can be done with the <code class="docutils literal notranslate"><span class="pre">--lru</span></code> argument to <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">remove</span></code> and <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">list</span></code> commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># remove all binaries (but not recipes) not used in the last 4 weeks</span>
$<span class="w"> </span>conan<span class="w"> </span>remove<span class="w"> </span><span class="s2">&quot;*:*&quot;</span><span class="w"> </span>--lru<span class="o">=</span>4w<span class="w"> </span>-c
<span class="c1"># remove all recipes that have not been used in the last 4 weeks (with their binaries)</span>
$<span class="w"> </span>conan<span class="w"> </span>remove<span class="w"> </span><span class="s2">&quot;*&quot;</span><span class="w"> </span>--lru<span class="o">=</span>4w<span class="w"> </span>-c
</pre></div>
</div>
<p>Note that the LRU time follows the rules of the <code class="docutils literal notranslate"><span class="pre">remove</span></code> command. If we are removing recipes with a <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code> pattern, only
the LRU times for recipes will be checked. If a recipe has been recently used, it will keep all the binaries, and if the recipe
has not been recently used, it will remove itself and all its binaries. If we use a <code class="docutils literal notranslate"><span class="pre">&quot;*:*&quot;</span></code> pattern, it will check for binaries only,
and remove those unused, but always leaving the recipe.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">list</span></code> first (take into account that <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">list</span></code> do not default to list all revisions, as opposed to <code class="docutils literal notranslate"><span class="pre">remove</span></code>,
so it is necessary to explicit the <code class="docutils literal notranslate"><span class="pre">#*</span></code> to select all revisions if that is the intention) it is possible to create a list of
least recently used packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># List all unused (last 4 weeks) recipe revisions</span>
$<span class="w"> </span>conan<span class="w"> </span>list<span class="w"> </span><span class="s2">&quot;*#*&quot;</span><span class="w"> </span>--lru<span class="o">=</span>4w<span class="w"> </span>--format<span class="o">=</span>json<span class="w"> </span>&gt;<span class="w"> </span>old.json
<span class="c1"># Remove those recipe revisions (and their binaries)</span>
$<span class="w"> </span>conan<span class="w"> </span>remove<span class="w"> </span>--list<span class="o">=</span>old.json<span class="w"> </span>-c
</pre></div>
</div>
<p>See commands help <a class="reference internal" href="../reference/commands/remove.html#reference-commands-remove"><span class="std std-ref">conan remove</span></a> and <a class="reference internal" href="../reference/commands/list.html#reference-commands-list"><span class="std std-ref">conan list</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="versioning/conflicts.html" class="btn btn-neutral float-left" title="Dependencies conflicts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../ci_tutorial/tutorial.html" class="btn btn-neutral float-right" title="Continuous Integration (CI) tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2026, JFrog.
      <span class="lastupdated">最后更新于 2月 17, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>