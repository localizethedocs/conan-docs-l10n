



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>conan.tools.microsoft &mdash; conan 1.33.1 說明文件</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../../_static/css/search.css" type="text/css" />
        <link rel="index" title="索引"
              href="../../../genindex.html"/>
        <link rel="search" title="搜尋" href="../../../search.html"/>
    <link rel="top" title="conan 1.33.1 說明文件" href="../../../index.html"/>
        <link rel="up" title="tools" href="../tools.html"/>
        <link rel="next" title="conan.tools.qbs" href="qbs.html"/>
        <link rel="prev" title="conan.tools.meson" href="meson.html"/>


 



</script>
<script type="text/javascript" src="../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../ltd-flyout.js"></script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../../../_static/conan-logo.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training_courses.html">Training Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../uploading_packages.html">上傳軟體包</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mastering.html">精通 Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../howtos.html">Howtos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../conanfile.html">conanfile.py</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../attributes.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../methods.html">Methods</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../tools.html">tools</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cmake.html">conan.tools.cmake</a></li>
<li class="toctree-l4"><a class="reference internal" href="gnu.html">conan.tools.gnu</a></li>
<li class="toctree-l4"><a class="reference internal" href="meson.html">conan.tools.meson</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">conan.tools.microsoft</a></li>
<li class="toctree-l4"><a class="reference internal" href="qbs.html">conan.tools.qbs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../other.html">Python requires</a></li>
<li class="toctree-l3"><a class="reference internal" href="../other.html#output-and-running">Output and Running</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../generators.html">生成器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../profiles.html">Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../build_helpers.html">Build helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../env_vars.html">環境變數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hooks.html">Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_v2_mode.html">CONAN_V2_MODE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">變更日誌</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../../conanfile.html">conanfile.py</a> &raquo;</li>
        
          <li><a href="../tools.html">tools</a> &raquo;</li>
        
      <li>conan.tools.microsoft</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/reference/conanfile/tools/microsoft.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important"> Join the <a href=https://blog.conan.io/2020/07/28/Launching-Conan-2.0-Tribe.html>Conan 2.0 Tribe</a> and contribute to define the next Conan 2.0 major version</div>-->
          <div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Check out the new free <a
            href=https://blog.conan.io/2020/09/24/New-conan-training-series.html>Conan
            training courses on JFrog Academy</a>!
          </div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="conan-tools-microsoft-1">
<span id="conan-tools-microsoft"></span><h1>conan.tools.microsoft<a class="headerlink" href="#conan-tools-microsoft-1" title="本標題的永久連結">¶</a></h1>
<p>These tools allow a native integration for Microsoft Visual Studio, natively (without using CMake,
but using directly Visual Studio solutions, projects and property files).</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">These tools are <strong>experimental</strong> and subject to breaking changes.</p>
</div>
<div class="section" id="msbuilddeps">
<h2>MSBuildDeps<a class="headerlink" href="#msbuilddeps" title="本標題的永久連結">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuildDeps</span></code> is the dependency information generator for Microsoft MSBuild build system.
It will generate multiple <em>xxxx.props</em> properties files one per dependency of a package,
to be used by consumers using MSBuild or Visual Studio, just adding the generated properties files
to the solution and projects.</p>
<p>It is important to highlight that this one is a <strong>dependencies generator</strong> and it is focused
on the <strong>dependencies</strong> of a conanfile, not the current build.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuildDeps</span></code> generator can be used by name in conanfiles:</p>
<div class="literal-block-wrapper docutils container" id="container-1">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#container-1" title="本原始碼的永久連結">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;MSBuildDeps&quot;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="container-2">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#container-2" title="本原始碼的永久連結">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[generators]
MSBuildDeps
</pre></div>
</div>
</div>
<p>And it can also be fully instantiated in the conanfile <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method:</p>
<div class="literal-block-wrapper docutils container" id="container-3">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#container-3" title="本原始碼的永久連結">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.microsoft</span> <span class="kn">import</span> <span class="n">MSBuildDeps</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.2.11&quot;</span><span class="p">,</span> <span class="s2">&quot;bzip2/1.0.8&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ms</span> <span class="o">=</span> <span class="n">MSBuildDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">ms</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>When the <code class="docutils literal notranslate"><span class="pre">MSBuildDeps</span></code> generator is used, every invocation of <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> will
generate properties files, one per dependency and per configuration. For the last <em>conanfile.py</em>
above:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>conanfile.py<span class="w"> </span><span class="c1"># default is Release</span>
$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>conanfile.py<span class="w"> </span>-s<span class="w"> </span><span class="nv">build_type</span><span class="o">=</span>Debug
</pre></div>
</div>
<p>This is a multi-configuration generator, and will generate different files for the different Debug/Release
configuration. The above commands the following files will be generated:</p>
<ul class="simple">
<li><em>conan_zlib_release_x64.props</em>: Properties file for the <code class="docutils literal notranslate"><span class="pre">zlib</span></code> dependency, Release config</li>
<li><em>conan_zlib_debug_x64.props</em>: Properties file for the <code class="docutils literal notranslate"><span class="pre">zlib</span></code> dependency, Debug config</li>
<li><em>conan_zlib.props</em>: Properties file for <code class="docutils literal notranslate"><span class="pre">zlib</span></code>. It conditionally includes, depending on the configuration,
one of the above Release/Debug properties files.</li>
<li>Same 3 files will be generated for every dependency in the graph, in this case <code class="docutils literal notranslate"><span class="pre">conan_bzip.props</span></code> too, which
will conditionally include the Release/Debug bzip properties files.</li>
<li><em>conan_deps.props</em>: Properties files including all direct dependencies, in this case, it includes <code class="docutils literal notranslate"><span class="pre">conan_zlib.props</span></code>
and <code class="docutils literal notranslate"><span class="pre">conan_bzip2.props</span></code></li>
</ul>
<p>You will be adding the <em>conan_deps.props</em> to your solution project files if you want to depend on all the declared
dependencies. For single project solutions, this is probably the way to go. For multi-project solutions, you might
be more efficient and add properties files per project. You could add <em>conan_zlib.props</em> properties to 「project1」
in the solution and <em>conan_bzip2.props</em> to 「project2」 in the solution for example.</p>
<div class="section" id="custom-configurations">
<h3>Custom configurations<a class="headerlink" href="#custom-configurations" title="本標題的永久連結">¶</a></h3>
<p>If your Visual Studio project defines custom configurations, like <code class="docutils literal notranslate"><span class="pre">ReleaseShared</span></code>, or <code class="docutils literal notranslate"><span class="pre">MyCustomConfig</span></code>,
it is possible to define it into the <code class="docutils literal notranslate"><span class="pre">MSBuildDeps</span></code> generator, so different project configurations can
use different set of dependencies. Let’s say that our current project can be built as a shared library,
with the custom configuration <code class="docutils literal notranslate"><span class="pre">ReleaseShared</span></code>, and the package also controls this with the <code class="docutils literal notranslate"><span class="pre">shared</span></code>
option:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.microsoft</span> <span class="kn">import</span> <span class="n">MSBuildDeps</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]}</span>
    <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.2.11&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ms</span> <span class="o">=</span> <span class="n">MSBuildDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># We assume that -o *:shared=True is used to install all shared deps too</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">shared</span><span class="p">:</span>
            <span class="n">ms</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">build_type</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;Shared&quot;</span>
        <span class="n">ms</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<p>This will manage to generate new properties files for this custom configuration, and switching it
in the IDE allows to be switching dependencies configuration like Debug/Release, it could be also
switching dependencies from static to shared libraries.</p>
</div>
</div>
<div class="section" id="msbuildtoolchain">
<h2>MSBuildToolchain<a class="headerlink" href="#msbuildtoolchain" title="本標題的永久連結">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuildToolchain</span></code> is the toolchain generator for MSBuild. It will generate MSBuild properties files
that can be added to the Visual Studio solution projects. This generator translates
the current package configuration, settings, and options, into MSBuild properties files syntax.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuildToolchain</span></code> generator can be used by name in conanfiles:</p>
<div class="literal-block-wrapper docutils container" id="container-4">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#container-4" title="本原始碼的永久連結">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;MSBuildToolchain&quot;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="container-5">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#container-5" title="本原始碼的永久連結">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[generators]
MSBuildToolchain
</pre></div>
</div>
</div>
<p>And it can also be fully instantiated in the conanfile <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.microsoft</span> <span class="kn">import</span> <span class="n">MSBuildToolchain</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">MSBuildToolchain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuildToolchain</span></code> will generate two files after a <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>conanfile.py<span class="w"> </span><span class="c1"># default is Release</span>
$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>conanfile.py<span class="w"> </span>-s<span class="w"> </span><span class="nv">build_type</span><span class="o">=</span>Debug
</pre></div>
</div>
<ul class="simple">
<li>The main <em>conantoolchain.props</em> file, to be added to the project.</li>
<li>A <em>conantoolchain_&lt;config&gt;.props</em> file, that will be conditionally included from the previous
<em>conantoolchain.props</em> file based on the configuration and platform, e.g.:
<em>conantoolchain_release_x86.props</em></li>
</ul>
<p>Every invocation to <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> with different configuration will create a new properties <code class="docutils literal notranslate"><span class="pre">.props</span></code>
file, that will also be conditionally included. This allows to install different configurations,
then switch among them directly from the Visual Studio IDE.</p>
<p>The MSBuildToolchain files can configure:</p>
<ul class="simple">
<li>The Visual Studio runtime (MT/MD/MTd/MDd), obtained from Conan input settings</li>
<li>The C++ standard, obtained from Conan input settings</li>
</ul>
<p>One of the advantages of using toolchains is that they can help to achieve the exact same build
with local development flows, than when the package is created in the cache.</p>
</div>
<div class="section" id="msbuild">
<h2>MSBuild<a class="headerlink" href="#msbuild" title="本標題的永久連結">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuild</span></code> build helper is a wrapper around the command line invocation of MSBuild. It will abstract the
calls like <code class="docutils literal notranslate"><span class="pre">msbuild</span> <span class="pre">&quot;MyProject.sln&quot;</span> <span class="pre">/p:Configuration=&lt;conf&gt;</span> <span class="pre">/p:Platform=&lt;platform&gt;</span></code> into Python method calls.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuild</span></code> helper can be used like:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">conanfile</span>
<span class="kn">from</span> <span class="nn">conan.tools.microsoft</span> <span class="kn">import</span> <span class="n">MSBuild</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msbuild</span> <span class="o">=</span> <span class="n">MSBuild</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">msbuild</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s2">&quot;MyProject.sln&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MSBuild.build()</span></code> method internally implements a call to <code class="docutils literal notranslate"><span class="pre">msbuild</span></code> like:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$ &lt;vcvars-cmd&gt; &amp;&amp; msbuild &quot;MyProject.sln&quot; /p:Configuration=&lt;conf&gt; /p:Platform=&lt;platform&gt;
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">vcvars-cmd</span></code> is calling the Visual Studio prompt that matches the current recipe <code class="docutils literal notranslate"><span class="pre">settings</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">conf</span></code> is the configuration, typically Release, Debug, which will be obtained from <code class="docutils literal notranslate"><span class="pre">settings.build_type</span></code>
but this will be configurable. Please open a <a class="reference external" href="https://github.com/conan-io/conan/issues">Github issue</a> if you want to define custom configurations.</li>
<li><code class="docutils literal notranslate"><span class="pre">platform</span></code> is the architecture, a mapping from the <code class="docutils literal notranslate"><span class="pre">settings.arch</span></code> to the common 『x86』, 『x64』, 『ARM』, 『ARM64』.
If your platform is unsupported, please report in <a class="reference external" href="https://github.com/conan-io/conan/issues">Github issues</a> as well.</li>
</ul>
<div class="section" id="conf">
<h3>conf<a class="headerlink" href="#conf" title="本標題的永久連結">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">tools.microsoft:msbuild_verbosity</span></code> will accept one of <code class="docutils literal notranslate"><span class="pre">&quot;Quiet&quot;,</span> <span class="pre">&quot;Minimal&quot;,</span> <span class="pre">&quot;Normal&quot;,</span> <span class="pre">&quot;Detailed&quot;,</span> <span class="pre">&quot;Diagnostic&quot;</span></code> to be passed
to the <code class="docutils literal notranslate"><span class="pre">MSBuild.build()</span></code> call as <code class="docutils literal notranslate"><span class="pre">msbuild</span> <span class="pre">....</span> <span class="pre">/verbosity:XXX</span></code></li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="qbs.html" class="btn btn-neutral float-right" title="conan.tools.qbs" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="meson.html" class="btn btn-neutral" title="conan.tools.meson" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2020, JFrog.
      最後更新於 10月 27, 2025。
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.33.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../../_static/js/modernizr.min.js"></script>
  <script src="../../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("1.33");
  </script>


 


</body>
</html>