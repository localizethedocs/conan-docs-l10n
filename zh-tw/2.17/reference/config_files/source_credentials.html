<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>source_credentials.json &mdash; conan 2.17.1 說明文件</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/config_files/source_credentials.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c0811917"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=d9a6981e"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜尋" href="../../search.html" />
    <link rel="next" title="credentials.json" href="credentials.html" />
    <link rel="prev" title="remotes.json" href="remotes.html" />


 



</script>
<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.17
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">簡介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ci_tutorial/tutorial.html">CI 教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/devops.html">開發運維指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/security.html">安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">範例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace_files.html">Workspace files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Recipe tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../config_files.html">Configuration files</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="global_conf.html">global.conf</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_conf.html#information-about-built-in-confs">Information about built-in confs</a></li>
<li class="toctree-l3"><a class="reference internal" href="profiles.html">profiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html">settings.yml</a></li>
<li class="toctree-l3"><a class="reference internal" href="remotes.html">remotes.json</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">source_credentials.json</a></li>
<li class="toctree-l3"><a class="reference internal" href="credentials.html">credentials.json</a></li>
<li class="toctree-l3"><a class="reference internal" href="conanrc.html">.conanrc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment.html">環境變數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../binary_model.html">二進位模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../runners.html">Runners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../incubating.html">孵化中的功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">變更日誌</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../config_files.html">Configuration files</a></li>
      <li class="breadcrumb-item active">source_credentials.json</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/config_files/source_credentials.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="source-credentials-json">
<span id="reference-config-files-source-credentials"></span><h1>source_credentials.json<a class="headerlink" href="#source-credentials-json" title="Link to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>This feature is experimental and subject to breaking changes.
See <a class="reference internal" href="../../introduction.html#stability"><span class="std std-ref">the Conan stability</span></a> section for more information.</p>
</div>
<p>When a <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> recipe downloads some sources from other servers with the <code class="docutils literal notranslate"><span class="pre">download()</span></code> or the <code class="docutils literal notranslate"><span class="pre">get()</span></code> helpers like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Immutable source .zip</span>
    <span class="n">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;https://server/that/need/credentials/files/tarballname-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;downloaded.zip&quot;</span><span class="p">)</span>
    <span class="c1"># Also the ``get()`` function, as it internally calls ``download()``</span>
</pre></div>
</div>
<p>These downloads would be typically anonymous for open-source third party libraries in the internet, but it
is also possible that some proprietary code in a private organization or provided by a vendor would require
some kind of authentication.</p>
<p>For this purpose the <code class="docutils literal notranslate"><span class="pre">source_credentials.json</span></code> file can be provided in the Conan cache. This file
has the following format, in which every <code class="docutils literal notranslate"><span class="pre">credentials</span></code> entry should have a <code class="docutils literal notranslate"><span class="pre">url</span></code> that defines the
URL that should match the recipe one. If the recipe URL starts with the given one in the credentials files,
then the credentials will be injected. If the file provides multiple credentials for multiple URLs, they
will be evaluated in order until the first match happens. If no match is found, no credentials will be injected.
A custom <a class="reference internal" href="../extensions/authorization_plugins.html#reference-extensions-authorization-plugin"><span class="std std-ref">auth plugin</span></a> can also be used to retrieve credentials
directly from your own secrets manager.</p>
<p>It has to be noted that the <code class="docutils literal notranslate"><span class="pre">source_credentials</span></code> applies only to files downloaded with the <code class="docutils literal notranslate"><span class="pre">tools.files</span></code>
<code class="docutils literal notranslate"><span class="pre">download()</span></code> and <code class="docutils literal notranslate"><span class="pre">get()</span></code> helpers, but it won’t be used in other cases. To provide credentials for Conan repos,
the <code class="docutils literal notranslate"><span class="pre">credentials.json</span></code> file should be used instead, see <a class="reference internal" href="credentials.html#reference-config-files-credentials"><span class="std std-ref">credentials.json</span></a>.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;credentials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://server/that/need/credentials&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mytoken&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">token</span></code> field, will add an <code class="docutils literal notranslate"><span class="pre">Authorization</span> <span class="pre">=</span> <span class="pre">Bearer</span> <span class="pre">{token}</span></code> header. This would be the preferred
way of authentication, as it is typically more secure than using user/password.</p>
<p>If for some reason HTTP-Basic auth with user/password is necessary it can be provided with the <code class="docutils literal notranslate"><span class="pre">user</span></code> and
<code class="docutils literal notranslate"><span class="pre">password</span></code> fields:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;credentials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://server/that/need/credentials&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;myuser&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mypassword&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As a general rule, hardcoding secrets like passwords in files is strongly discouraged. To avoid it, the
<code class="docutils literal notranslate"><span class="pre">source_credentials.json</span></code> file is always rendered as a jinja template, so it can do operations like
getting environment variables <code class="docutils literal notranslate"><span class="pre">os.getenv()</span></code>, allowing the secrets to be configured at the system or CI
level:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">mytk</span> <span class="o">=</span> <span class="nv">os.getenv</span><span class="o">(</span><span class="s1">&#39;mytoken&#39;</span><span class="o">)</span> <span class="cp">%}</span>
<span class="x">{</span>
<span class="x">    &quot;credentials&quot;: [</span>
<span class="x">        {</span>
<span class="x">            &quot;url&quot;: &quot;https://server/that/need/credentials&quot;,</span>
<span class="x">            &quot;token&quot;: &quot;</span><span class="cp">{{</span><span class="nv">mytk</span><span class="cp">}}</span><span class="x">&quot;</span>
<span class="x">        }</span>
<span class="x">    ]</span>
<span class="x">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p><strong>最佳實踐</strong></p>
<ul class="simple">
<li><p>Avoid using URLs that encode tokens or user/password authentication in the <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> recipes. These URLs can easily leak into logs, and
can be more difficult to fix in case of credentials changes (this is also valid for Git repositories URLs and clones,
better use other Git auth mechanisms like ssh-keys)</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">也參考</p>
<ul class="simple">
<li><p><a class="reference internal" href="../extensions/authorization_plugins.html#reference-extensions-authorization-plugin"><span class="std std-ref">How to use your own secrets manager for your source server logins</span></a>.</p></li>
</ul>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="remotes.html" class="btn btn-neutral float-left" title="remotes.json" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="credentials.html" class="btn btn-neutral float-right" title="credentials.json" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最後更新於 10月 28, 2025。
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>