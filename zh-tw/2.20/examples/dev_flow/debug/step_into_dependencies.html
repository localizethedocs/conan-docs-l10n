<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Debugging and stepping into dependencies &mdash; conan 2.20.1 說明文件</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/examples/dev_flow/debug/step_into_dependencies.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=9a61b301"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/translations.js?v=d9a6981e"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜尋" href="../../../search.html" />
    <link rel="next" title="Debugging shared libraries with Visual Studio" href="debugging_visual.html" />
    <link rel="prev" title="開發者工具與流程" href="../../dev_flow.html" />


 



</script>
<script type="text/javascript" src="../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.20
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">介紹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI 教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">開發運維指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../examples.html">範例</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">ConanFile 方法範例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Conan 擴充功能範例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools.html">Conan recipe tools examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cross_build.html">交叉建置範例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">組態檔範例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../graph.html">Graph examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../dev_flow.html">開發者工具與流程</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Debugging and stepping into dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging_visual.html">Debugging shared libraries with Visual Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tool_requires/mingw.html">Using a MinGW as tool_requires to build with gcc in Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Conan 命令範例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">Conan 執行器範例</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">孵化中的功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">變更日誌</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../examples.html">範例</a></li>
          <li class="breadcrumb-item"><a href="../../dev_flow.html">開發者工具與流程</a></li>
      <li class="breadcrumb-item active">Debugging and stepping into dependencies</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/examples/dev_flow/debug/step_into_dependencies.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="debugging-and-stepping-into-dependencies">
<span id="examples-dev-flow-debug-step-into"></span><h1>Debugging and stepping into dependencies<a class="headerlink" href="#debugging-and-stepping-into-dependencies" title="Link to this heading">¶</a></h1>
<p>Sometimes, when developing and debugging your own code, it could be useful to be able to step-into the
dependencies source code too. There are a couple of things to take into account:</p>
<ul class="simple">
<li><p>Recipes and packages from ConanCenter do not package always all the debug artifacts necessary to debug. For example in Windows, the <code class="docutils literal notranslate"><span class="pre">*.pdb</span></code> files are not packaged, because they are very heavy, and in practice barely used. It is possible to have your own packages to package the PDB files if you want, but that still won’t solve the next point.</p></li>
<li><p>Debug artifacts are often not relocatable, that means that such artifacts can only be used in the location they were built from sources. But packages that are uploaded to a server and downloaded to a different machine can put those artifacts in a different folder. Then, the debug artifacts might not correctly locate the source code, the symbols, etc.</p></li>
</ul>
<section id="building-from-source">
<h2>Building from source<a class="headerlink" href="#building-from-source" title="Link to this heading">¶</a></h2>
<p>The recommended approach for debugging dependencies is building them from source in the local cache. This approach should work out of the box for most recipes, including ConanCenter recipes.</p>
<p>We can reuse the code from the very first example in the tutorial for this use case. Please, first clone the sources to recreate this project. You can find them in the
<a class="reference external" href="https://github.com/conan-io/examples2">examples2 repository</a> in GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/conan-io/examples2.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>examples2/tutorial/consuming_packages/simple_cmake_project
</pre></div>
</div>
<p>Then, lets make sure the dependency is built from source:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>.<span class="w"> </span>-s<span class="w"> </span><span class="nv">build_type</span><span class="o">=</span>Debug<span class="w"> </span>--build<span class="o">=</span><span class="s2">&quot;zlib/*&quot;</span>
...
Install<span class="w"> </span>finished<span class="w"> </span>successfully
</pre></div>
</div>
<p>Assuming that we have CMake&gt;=3.23, we can use the presets (otherwise, please use the <code class="docutils literal notranslate"><span class="pre">-DCMAKE_TOOLCHAIN_FILE</span></code> arguments):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cmake<span class="w"> </span>.<span class="w"> </span>--preset<span class="w"> </span>conan-default
</pre></div>
</div>
<p>This will create our project, that we can start building and debugging.</p>
</section>
<section id="step-into-a-dependency-with-visual-studio">
<h2>Step into a dependency with Visual Studio<a class="headerlink" href="#step-into-a-dependency-with-visual-studio" title="Link to this heading">¶</a></h2>
<p>Once the project is created, in Visual Studio, we can double-click on the <code class="docutils literal notranslate"><span class="pre">compressor.sln</span></code> file, or open the file from the open Visual Studio IDE.</p>
<p>Once the project is open, the first step is building it, making sure the <code class="docutils literal notranslate"><span class="pre">Debug</span></code> configuration is the active one, going to <code class="docutils literal notranslate"><span class="pre">Build</span> <span class="pre">-&gt;</span> <span class="pre">Build</span> <span class="pre">Solution</span></code> will do it. Then we can define <code class="docutils literal notranslate"><span class="pre">compressor</span></code> as the 「Startup project」 in project view.</p>
<p>Going to the <code class="docutils literal notranslate"><span class="pre">compressor/main.c</span></code> source file, we can introduce a breakpoint in some line there:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">main.c</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="c1">// add a breakpoint in deflateInit line in your IDE</span>
<span class="w">    </span><span class="n">deflateInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">defstream</span><span class="p">,</span><span class="w"> </span><span class="n">Z_BEST_COMPRESSION</span><span class="p">);</span>
<span class="w">    </span><span class="n">deflate</span><span class="p">(</span><span class="o">&amp;</span><span class="n">defstream</span><span class="p">,</span><span class="w"> </span><span class="n">Z_FINISH</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>Clicking on the <code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">-&gt;</span> <span class="pre">Start</span> <span class="pre">Debugging</span></code> (or F5), the program will start debugging and stop at the <code class="docutils literal notranslate"><span class="pre">deflateInit()</span></code> line. Clicking on the <code class="docutils literal notranslate"><span class="pre">Debug</span> <span class="pre">-&gt;</span> <span class="pre">Step</span> <span class="pre">Into</span></code>, the IDE should be able to navigate to the <code class="docutils literal notranslate"><span class="pre">deflate.c</span></code> source code. If we check this file, its path will be inside the Conan cache, like <code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;myuser&gt;\.conan2\p\b\zlib4f7275ba0a71f\b\src\deflate.c</span></code></p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">deflate.c</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ZEXPORT</span><span class="w"> </span><span class="nf">deflateInit_</span><span class="p">(</span><span class="n">strm</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="n">stream_size</span><span class="p">)</span>
<span class="w"> </span><span class="n">z_streamp</span><span class="w"> </span><span class="n">strm</span><span class="p">;</span>
<span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">version</span><span class="p">;</span>
<span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">stream_size</span><span class="p">;</span>
<span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">deflateInit2_</span><span class="p">(</span><span class="n">strm</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="p">,</span><span class="w"> </span><span class="n">Z_DEFLATED</span><span class="p">,</span><span class="w"> </span><span class="n">MAX_WBITS</span><span class="p">,</span><span class="w"> </span><span class="n">DEF_MEM_LEVEL</span><span class="p">,</span>
<span class="w">                         </span><span class="n">Z_DEFAULT_STRATEGY</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="n">stream_size</span><span class="p">);</span>
<span class="w">     </span><span class="cm">/* To do: ignore strm-&gt;next_in if we use it as window */</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">也參考</p>
<ul class="simple">
<li><p>Modifying the dependency source code while debugging is not possible with this approach. If that is the intended flow, the recommended approach is to use <a class="reference internal" href="../../../tutorial/developing_packages/editable_packages.html#editable-packages"><span class="std std-ref">editable package</span></a>.</p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../dev_flow.html" class="btn btn-neutral float-left" title="開發者工具與流程" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging_visual.html" class="btn btn-neutral float-right" title="Debugging shared libraries with Visual Studio" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最後更新於 2月 17, 2026。
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>