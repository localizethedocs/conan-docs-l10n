<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How settings and options of a recipe influence its package ID &mdash; conan 2.23.0 說明文件</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/binary_model/settings_and_options.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=f21134f4"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=d9a6981e"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜尋" href="../../search.html" />
    <link rel="next" title="The effect of dependencies on package_id" href="dependencies.html" />
    <link rel="prev" title="package_id 是如何計算的" href="package_id.html" />


 



</script>
<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.23
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">介紹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">安裝</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ci_tutorial/tutorial.html">CI 教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/devops.html">開發運維指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/security.html">安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">範例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../binary_model.html">Binary model</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="package_id.html"><code class="docutils literal notranslate"><span class="pre">package_id</span></code> 是如何計算的</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">How settings and options of a recipe influence its package ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="dependencies.html">The effect of dependencies on <code class="docutils literal notranslate"><span class="pre">package_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="extending.html">Extending the binary model</a></li>
<li class="toctree-l3"><a class="reference internal" href="custom_compatibility.html">Customizing the binary compatibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../commands.html">命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_files.html">組態檔</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment.html">環境變數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extensions.html">擴充功能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../runners.html">執行器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace_files.html">工作空間檔案</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../incubating.html">孵化中的功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">變更日誌</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../binary_model.html">Binary model</a></li>
      <li class="breadcrumb-item active">How settings and options of a recipe influence its package ID</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/binary_model/settings_and_options.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-settings-and-options-of-a-recipe-influence-its-package-id">
<span id="reference-binary-model-settings-options"></span><h1>How settings and options of a recipe influence its package ID<a class="headerlink" href="#how-settings-and-options-of-a-recipe-influence-its-package-id" title="Link to this heading">¶</a></h1>
<p>In Conan, a package ID is a unique identifier for a package binary that takes into account all the factors that affect its binary compatibility.
These factors include recipe options and settings as well as requirements or tool requirements.</p>
<p>Let’s see how settings and options affect the package ID and some examples where they should not.</p>
<section id="how-settings-influence-the-package-id">
<h2>How settings influence the package ID<a class="headerlink" href="#how-settings-influence-the-package-id" title="Link to this heading">¶</a></h2>
<p>Settings are development project-wide variables, like the compiler, its version, or the OS itself.
These variable values have to be defined, they should match the values of our development environment, and they cannot have a default value like options do.</p>
<p>For example, let’s define a recipe that generates packages that are only OS dependent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pkg&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span>  <span class="c1"># Only OS setting affects the package ID</span>
</pre></div>
</div>
<p>If we generate a package from this recipe for Linux we will get the following package ID:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--settings<span class="w"> </span><span class="nv">os</span><span class="o">=</span>Linux
<span class="w"> </span>...
<span class="hll"><span class="w"> </span>pkg/1.0.0:<span class="w"> </span>Package<span class="w"> </span><span class="s1">&#39;9a4eb3c8701508aa9458b1a73d0633783ecc2270&#39;</span><span class="w"> </span>created
</span>
<span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>list<span class="w"> </span>pkg/1.0.0:*
<span class="w"> </span>Local<span class="w"> </span>Cache
<span class="w">   </span>pkg
<span class="w">     </span>pkg/1.0.0
<span class="w">       </span>revisions
<span class="w">           </span>476929a74c859bb5f646363a4900f7cf<span class="w"> </span><span class="o">(</span><span class="m">2024</span>-03-07<span class="w"> </span><span class="m">09</span>:13:43<span class="w"> </span>UTC<span class="o">)</span>
<span class="w">             </span>packages
<span class="hll"><span class="w">               </span>9a4eb3c8701508aa9458b1a73d0633783ecc2270
</span><span class="w">                 </span>info
<span class="w">                   </span>settings
<span class="w">                     </span>os:<span class="w"> </span>Linux
</pre></div>
</div>
<p>If we do the same thing with Windows, now the package ID will be different:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--settings<span class="w"> </span><span class="nv">os</span><span class="o">=</span>Windows
<span class="w"> </span>...
<span class="hll"><span class="w"> </span>pkg/1.0.0:<span class="w"> </span>Package<span class="w"> </span><span class="s1">&#39;ebec3dc6d7f6b907b3ada0c3d3cdc83613a2b715&#39;</span><span class="w"> </span>created
</span>
<span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>list<span class="w"> </span>pkg/1.0.0:*
<span class="w"> </span>Local<span class="w"> </span>Cache
<span class="w">   </span>pkg
<span class="w">     </span>pkg/1.0.0
<span class="w">       </span>revisions
<span class="w">           </span>476929a74c859bb5f646363a4900f7cf<span class="w"> </span><span class="o">(</span><span class="m">2024</span>-03-07<span class="w"> </span><span class="m">09</span>:13:43<span class="w"> </span>UTC<span class="o">)</span>
<span class="w">             </span>packages
<span class="hll"><span class="w">               </span>9a4eb3c8701508aa9458b1a73d0633783ecc2270
</span><span class="w">                 </span>info
<span class="w">                   </span>settings
<span class="w">                     </span>os:<span class="w"> </span>Linux
<span class="hll"><span class="w">               </span>ebec3dc6d7f6b907b3ada0c3d3cdc83613a2b715
</span><span class="w">                 </span>info
<span class="w">                   </span>settings
<span class="w">                     </span>os:<span class="w"> </span>Windows
</pre></div>
</div>
<p>Whenever a value of the settings or subsettings changes, the package ID will be different to reflect that.</p>
<p>The most common usage for settings is to model the different project-wide aspects that might influence the package ID.
A recipe that does that will be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pkg&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
</pre></div>
</div>
<p>Now, compiling a package with different compiler versions will result into different package IDs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--settings<span class="w"> </span>compiler.version<span class="o">=</span><span class="m">192</span>
<span class="w"> </span>...
<span class="hll"><span class="w"> </span>pkg/1.0.0:<span class="w"> </span>Package<span class="w"> </span><span class="s1">&#39;4f267380690f99b3ef385199826c268f63147457&#39;</span><span class="w"> </span>created
</span>
<span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--settings<span class="w"> </span>compiler.version<span class="o">=</span><span class="m">193</span>
<span class="w"> </span>...
<span class="hll"><span class="w"> </span>pkg/1.0.0:<span class="w"> </span>Package<span class="w"> </span><span class="s1">&#39;c13a22a41ecd72caf9e556f68b406569547e0861&#39;</span><span class="w"> </span>created
</span>
<span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>list<span class="w"> </span>pkg/1.0.0:*
<span class="w"> </span>Local<span class="w"> </span>Cache
<span class="w">   </span>pkg
<span class="w">     </span>pkg/1.0.0
<span class="w">       </span>revisions
<span class="w">         </span>f1f48830ecb04f3b328429b390fc5de8<span class="w"> </span><span class="o">(</span><span class="m">2024</span>-03-07<span class="w"> </span><span class="m">09</span>:21:07<span class="w"> </span>UTC<span class="o">)</span>
<span class="w">           </span>packages
<span class="hll"><span class="w">             </span>4f267380690f99b3ef385199826c268f63147457
</span><span class="w">               </span>info
<span class="w">                 </span>settings
<span class="w">                   </span>arch:<span class="w"> </span>x86_64
<span class="w">                   </span>build_type:<span class="w"> </span>Release
<span class="w">                   </span>compiler:<span class="w"> </span>msvc
<span class="w">                   </span>compiler.cppstd:<span class="w"> </span><span class="m">14</span>
<span class="w">                   </span>compiler.runtime:<span class="w"> </span>dynamic
<span class="w">                   </span>compiler.runtime_type:<span class="w"> </span>Release
<span class="w">                   </span>compiler.version:<span class="w"> </span><span class="m">192</span>
<span class="w">                   </span>os:<span class="w"> </span>Windows
<span class="hll"><span class="w">             </span>c13a22a41ecd72caf9e556f68b406569547e0861
</span><span class="w">               </span>info
<span class="w">                 </span>settings
<span class="w">                   </span>arch:<span class="w"> </span>x86_64
<span class="w">                   </span>build_type:<span class="w"> </span>Release
<span class="w">                   </span>compiler:<span class="w"> </span>msvc
<span class="w">                   </span>compiler.cppstd:<span class="w"> </span><span class="m">14</span>
<span class="w">                   </span>compiler.runtime:<span class="w"> </span>dynamic
<span class="w">                   </span>compiler.runtime_type:<span class="w"> </span>Release
<span class="w">                   </span>compiler.version:<span class="w"> </span><span class="m">193</span>
<span class="w">                   </span>os:<span class="w"> </span>Windows
</pre></div>
</div>
<section id="removing-settings-for-a-package-used-as-a-tool-require">
<h3>Removing settings for a package used as a tool_require<a class="headerlink" href="#removing-settings-for-a-package-used-as-a-tool-require" title="Link to this heading">¶</a></h3>
<p>There could be cases when a setting should not influence the resulting package ID.
An example of this could be when a recipe packages a tool that would be used to build other packages via <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code></p>
<p>In that case, the value of the compiler used is needed for the compilation of the tool but not that relevant for consumers, as we only want to execute the tool to build other projects.
So we could eventually remove the influence of the compiler from the pacakge ID:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CMake</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;cmake&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>  <span class="c1"># Only OS and architecture influence the resulting package</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># self.settings.compiler value will be used here to compile cmake</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Remove compiler setting from package ID</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span>
</pre></div>
</div>
<p>Why not removing the setting from the <cite>settings</cite> attribute? Because the compiler value is still needed in the <cite>build()</cite> method to perform the compilation of the executable.</p>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p>In the case we are generating our own executables (our own apps, not a <code class="docutils literal notranslate"><span class="pre">tool_require</span></code>), <strong>removing the compiler setting from package ID is not recommended</strong>, as we would always want to know
that the package was generated with a specific compiler.</p>
</div>
<p>However, in case we are packaging a tool that does not even require a compiler input for building (a python script for example), we could also directly remove the settings attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyPythonScripts</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my-python-scripts&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
    <span class="c1"># No settings this time</span>
</pre></div>
</div>
<p>Or, if the tool is platform specific we can just keep the OS and architecture information:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyScripts</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my-scripts&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="how-options-influence-the-package-id">
<h2>How options influence the package ID<a class="headerlink" href="#how-options-influence-the-package-id" title="Link to this heading">¶</a></h2>
<p>Options are used to specify characteristics that are particular to a single recipe, contrasting with settings that generally remain consistent across recipes within a project.
They are usually a set of particular characteristics of a library executable or conan package may have.</p>
<p>For example, a <cite>shared</cite> option is a very common option used in recipes that can produce shared libraries. However, it could not be a setting as not all recipes produce shared libraries.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pkg&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]}</span>
    <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
</pre></div>
</div>
<p>As in the previous case with settings, the different values of an option will influence the package ID and therefore, generate different packages depending on it.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--options<span class="w"> </span><span class="nv">shared</span><span class="o">=</span>True
<span class="w"> </span>...
<span class="hll"><span class="w"> </span>pkg/1.0.0:<span class="w"> </span>Package<span class="w"> </span><span class="s1">&#39;1744785cb24e3bdca70e27041dc5abd20476f947&#39;</span><span class="w"> </span>created
</span>
<span class="w"> </span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>--options<span class="w"> </span><span class="nv">shared</span><span class="o">=</span>False
<span class="w"> </span>...
<span class="hll"><span class="w"> </span>pkg/1.0.0:<span class="w"> </span>Package<span class="w"> </span><span class="s1">&#39;55c609fe8808aa5308134cb5989d23d3caffccf2&#39;</span><span class="w"> </span>created
</span></pre></div>
</div>
<p>In the same way, there might be 「options」 that are needed as input in a recipe to generate a package which shouldn’t be taken into account in the package ID.
An example of this could be an option to control something that during the build phase but that does not influence the package result, like the <em>verbosity</em> of a compilation.
In that case, the recipe should remove the option in the <a class="reference internal" href="../conanfile/methods/package_id.html#reference-conanfile-methods-package-id"><span class="std std-ref">package_id() method</span></a>:</p>
<p>However, the general advice is that <strong>options should always affect the package ID</strong>, and in case we would like to have an input to the recipe that should <strong>not</strong> affect it,
it should be done via the <a class="reference internal" href="../config_files/profiles.html#reference-config-files-profiles-conf"><span class="std std-ref">conf section</span></a> of your profile. Then in the recipe we should just add:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my-pkg&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">verbosity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user.my-pkg:verbosity&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using verbosity level: </span><span class="si">{</span><span class="n">verbosity</span><span class="si">}</span><span class="s2">)</span>
        <span class="o">...</span>
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><em>myprofile</em></span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[conf]
user.my-pkg:verbosity=silent
</pre></div>
</div>
</div>
<p>That way the package ID will be not affected, the recipe will be cleaner (without irrelevant options for package ID) and the input is easily managed via the profile’s conf section.</p>
<div class="admonition seealso">
<p class="admonition-title">也參考</p>
<ul class="simple">
<li><p><a class="reference internal" href="package_id.html#reference-binary-model-package-id"><span class="std std-ref">package_id 是如何計算的</span></a></p></li>
<li><p><a class="reference internal" href="../../tutorial/creating_packages/configure_options_settings.html#tutorial-creating-configure"><span class="std std-ref">Configure settings and options in recipes</span></a></p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="package_id.html" class="btn btn-neutral float-left" title="package_id 是如何計算的" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dependencies.html" class="btn btn-neutral float-right" title="The effect of dependencies on package_id" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最後更新於 2月 17, 2026。
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>