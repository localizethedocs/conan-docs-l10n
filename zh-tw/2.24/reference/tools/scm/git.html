<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Git &mdash; conan 2.24.0 說明文件</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/tools/scm/git.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=983ed7b0"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/translations.js?v=d9a6981e"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜尋" href="../../../search.html" />
    <link rel="next" title="版本" href="version.html" />
    <link rel="prev" title="conan.tools.scm" href="../scm.html" />


 



</script>
<script type="text/javascript" src="../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.24
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">介紹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">安裝</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI 教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">開發運維指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">範例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">Binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">命令</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">組態檔</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">環境變數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">擴充功能</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tools.html">Recipe tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../android.html">conan.tools.android</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apple.html">conan.tools.apple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan.tools.build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cmake.html">conan.tools.cmake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp_info.html">conan.tools.CppInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html">conan.tools.env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../files.html">conan.tools.files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gnu.html">conan.tools.gnu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../google.html">conan.tools.google</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel.html">conan.tools.intel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layout.html">conan.tools.layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">conan.tools.meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microsoft.html">conan.tools.microsoft</a></li>
<li class="toctree-l3"><a class="reference internal" href="../qbs.html">conan.tools.qbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ros.html">conan.tools.ros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sbom.html">conan.tools.sbom</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../scm.html">conan.tools.scm</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Git</a></li>
<li class="toctree-l4"><a class="reference internal" href="version.html">版本</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../scons.html">conan.tools.scons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../premake.html">conan.tools.premake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">conan.tools.system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">執行器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">工作空間檔案</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">孵化中的功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">變更日誌</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../tools.html">Recipe tools</a></li>
          <li class="breadcrumb-item"><a href="../scm.html">conan.tools.scm</a></li>
      <li class="breadcrumb-item active">Git</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/tools/scm/git.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="git">
<span id="conan-tools-scm-git"></span><h1>Git<a class="headerlink" href="#git" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Git</span></code> helper is a thin wrapper over the <code class="docutils literal notranslate"><span class="pre">git</span></code> command. It can be used for different purposes:</p>
<ul class="simple">
<li><p>Obtaining the current tag in the <code class="docutils literal notranslate"><span class="pre">set_version()</span></code> method to assign it to <code class="docutils literal notranslate"><span class="pre">self.version</span></code></p></li>
<li><p>Clone sources in third-party or open source package recipes in the <code class="docutils literal notranslate"><span class="pre">source()</span></code> method (in general, doing a <code class="docutils literal notranslate"><span class="pre">download()</span></code> or <code class="docutils literal notranslate"><span class="pre">get()</span></code> to fetch release tarballs will be preferred)</p></li>
<li><p>Capturing the 「scm」 coordinates (url, commit) of your own package sources in the <code class="docutils literal notranslate"><span class="pre">export()</span></code> method, to be able to reproduce a build from source later, retrieving the code in the <code class="docutils literal notranslate"><span class="pre">source()</span></code> method. See the <a class="reference internal" href="../../../examples/tools/scm/git/capture_scm/git_capture_scm.html#examples-tools-scm-git-capture"><span class="std std-ref">example of git-scm capture</span></a>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">Git()</span></code> constructor receives the current folder as argument, but that can be changed if necessary, for example, to clone the sources of some repo in <code class="docutils literal notranslate"><span class="pre">source()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="n">git</span> <span class="o">=</span> <span class="n">Git</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># by default, the current folder &quot;.&quot;</span>
   <span class="n">git</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;&lt;repourl&gt;&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">)</span> <span class="c1"># git clone url target</span>
   <span class="c1"># we need to cd directory for next command &quot;checkout&quot; to work</span>
   <span class="n">git</span><span class="o">.</span><span class="n">folder</span> <span class="o">=</span> <span class="s2">&quot;target&quot;</span>                       <span class="c1"># cd target</span>
   <span class="n">git</span><span class="o">.</span><span class="n">checkout</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="s2">&quot;&lt;commit&gt;&quot;</span><span class="p">)</span>             <span class="c1"># git checkout commit</span>
</pre></div>
</div>
<p>An alternative, equivalent approach would be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="n">git</span> <span class="o">=</span> <span class="n">Git</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">)</span>
   <span class="c1"># Cloning in current dir, not a children folder</span>
   <span class="n">git</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;&lt;repourl&gt;&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
   <span class="n">git</span><span class="o">.</span><span class="n">checkout</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="s2">&quot;&lt;commit&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Git</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conanfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excluded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git" title="Link to this definition">¶</a></dt>
<dd><p>Git is a wrapper for several common patterns used with <em>git</em> tool.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conanfile</strong> – Conanfile instance.</p></li>
<li><p><strong>folder</strong> – Current directory, by default <code class="docutils literal notranslate"><span class="pre">.</span></code>, the current working directory.</p></li>
<li><p><strong>excluded</strong> – Files to be excluded from the 「dirty」 checks. It will compose with the
configuration <code class="docutils literal notranslate"><span class="pre">core.scm:excluded</span></code> (the configuration has higher priority).
It is a list of patterns to <code class="docutils literal notranslate"><span class="pre">fnmatch</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hidden_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.run" title="Link to this definition">¶</a></dt>
<dd><p>Executes <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">&lt;cmd&gt;</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">回傳<span class="colon">:</span></dt>
<dd class="field-odd"><p>The console output of the command.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.get_commit">
<span class="sig-name descname"><span class="pre">get_commit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.get_commit" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repository</strong> – By default gets the commit of the defined folder, use repo=True to get
the commit of the repository instead.</p>
</dd>
<dt class="field-even">回傳<span class="colon">:</span></dt>
<dd class="field-even"><p>The current commit, with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rev-list</span> <span class="pre">HEAD</span> <span class="pre">-n</span> <span class="pre">1</span> <span class="pre">--</span> <span class="pre">&lt;folder&gt;</span></code>.
The latest commit is returned, irrespective of local not committed changes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.get_remote_url">
<span class="sig-name descname"><span class="pre">get_remote_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'origin'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.get_remote_url" title="Link to this definition">¶</a></dt>
<dd><p>Obtains the URL of the remote git remote repository, with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code></p>
<p><strong>Warning!</strong>
Be aware that This method will get the output from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>.
If you added tokens or credentials to the remote in the URL, they will be exposed.
Credentials shouldn’t be added to git remotes definitions, but using a credentials manager
or similar mechanism. If you still want to use this approach, it is your responsibility
to strip the credentials from the result.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>remote</strong> – Name of the remote git repository (『origin』 by default).</p>
</dd>
<dt class="field-even">回傳<span class="colon">:</span></dt>
<dd class="field-even"><p>URL of the remote git remote repository.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.commit_in_remote">
<span class="sig-name descname"><span class="pre">commit_in_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'origin'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.commit_in_remote" title="Link to this definition">¶</a></dt>
<dd><p>Checks that the given commit exists in the remote, with <code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">-r</span> <span class="pre">--contains</span> <span class="pre">&lt;commit&gt;</span></code>
and checking an occurrence of a branch in that remote exists.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>commit</strong> – Commit to check.</p></li>
<li><p><strong>remote</strong> – Name of the remote git repository (『origin』 by default).</p></li>
</ul>
</dd>
<dt class="field-even">回傳<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the given commit exists in the remote, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.is_dirty">
<span class="sig-name descname"><span class="pre">is_dirty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.is_dirty" title="Link to this definition">¶</a></dt>
<dd><p>Returns if the current folder is dirty, running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span> <span class="pre">-s</span></code>
The <code class="docutils literal notranslate"><span class="pre">Git(...,</span> <span class="pre">excluded=[])</span></code> argument and the <code class="docutils literal notranslate"><span class="pre">core.scm:excluded</span></code> configuration will
define file patterns to be skipped from this check.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repository</strong> – By default checks if the current folder is dirty. If repository=True
it will check the root repository folder instead, not the current one.</p>
</dd>
<dt class="field-even">回傳<span class="colon">:</span></dt>
<dd class="field-even"><p>True, if the current folder is dirty. Otherwise, False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.get_url_and_commit">
<span class="sig-name descname"><span class="pre">get_url_and_commit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'origin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repository</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.get_url_and_commit" title="Link to this definition">¶</a></dt>
<dd><p>This is an advanced method, that returns both the current commit, and the remote repository url.
This method is intended to capture the current remote coordinates for a package creation,
so that can be used later to build again from sources from the same commit. This is the behavior:</p>
<ul class="simple">
<li><p>If the repository is dirty, it will raise an exception. Doesn’t make sense to capture coordinates
of something dirty, as it will not be reproducible. If there are local changes, and the
user wants to test a local conan create, should commit the changes first (locally, not push the changes).</p></li>
<li><p>If the repository is not dirty, but the commit doesn’t exist in the given remote, the method
will return that commit and the URL of the local user checkout. This way, a package can be
conan create created locally, testing everything works, before pushing some changes to the remote.</p></li>
<li><p>If the repository is not dirty, and the commit exists in the specified remote, it will
return that commit and the url of the remote.</p></li>
</ul>
<p><strong>Warning!</strong>
Be aware that This method will get the output from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>.
If you added tokens or credentials to the remote in the URL, they will be exposed.
Credentials shouldn’t be added to git remotes definitions, but using a credentials manager
or similar mechanism. If you still want to use this approach, it is your responsibility
to strip the credentials from the result.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>remote</strong> – Name of the remote git repository (『origin』 by default).</p></li>
<li><p><strong>repository</strong> – By default gets the commit of the defined folder, use repo=True to get
the commit of the repository instead.</p></li>
</ul>
</dd>
<dt class="field-even">回傳<span class="colon">:</span></dt>
<dd class="field-even"><p>(url, commit) tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.get_repo_root">
<span class="sig-name descname"><span class="pre">get_repo_root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.get_repo_root" title="Link to this definition">¶</a></dt>
<dd><p>Get the current repository top folder with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rev-parse</span> <span class="pre">--show-toplevel</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">回傳<span class="colon">:</span></dt>
<dd class="field-odd"><p>Repository top folder.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.clone" title="Link to this definition">¶</a></dt>
<dd><p>Performs a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">&lt;url&gt;</span> <span class="pre">&lt;args&gt;</span> <span class="pre">&lt;target&gt;</span></code> operation, where target is the target directory.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL of remote repository.</p></li>
<li><p><strong>target</strong> – Target folder.</p></li>
<li><p><strong>args</strong> – Extra arguments to pass to the git clone as a list.</p></li>
<li><p><strong>hide_url</strong> – Hides the URL from the log output to prevent accidental
credential leaks. Can be disabled by passing <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.fetch_commit">
<span class="sig-name descname"><span class="pre">fetch_commit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.fetch_commit" title="Link to this definition">¶</a></dt>
<dd><p>Experimental: does a single commit fetch and checkout, instead of a full clone,
should be faster.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – URL of remote repository.</p></li>
<li><p><strong>commit</strong> – The commit ref to checkout.</p></li>
<li><p><strong>hide_url</strong> – Hides the URL from the log output to prevent accidental
credential leaks. Can be disabled by passing <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">commit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.checkout" title="Link to this definition">¶</a></dt>
<dd><p>Checkouts the given commit using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;commit&gt;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>commit</strong> – Commit to checkout.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.included_files">
<span class="sig-name descname"><span class="pre">included_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.included_files" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">ls-files</span> <span class="pre">--full-name</span> <span class="pre">--others</span> <span class="pre">--cached</span> <span class="pre">--exclude-standard</span></code> to the get the list</dt><dd><p>of files not ignored by <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">回傳<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.coordinates_to_conandata">
<span class="sig-name descname"><span class="pre">coordinates_to_conandata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.coordinates_to_conandata" title="Link to this definition">¶</a></dt>
<dd><p>Capture the 「url」 and 「commit」 from the Git repo, calling <code class="docutils literal notranslate"><span class="pre">get_url_and_commit()</span></code>, and then
store those in the <code class="docutils literal notranslate"><span class="pre">conandata.yml</span></code> under the 「scm」 key. This information can be
used later to clone and checkout the exact source point that was used to create this
package, and can be useful even if the recipe uses <code class="docutils literal notranslate"><span class="pre">exports_sources</span></code> as mechanism to
embed the sources.</p>
<dl class="field-list simple">
<dt class="field-odd">參數<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repository</strong> – By default gets the commit of the defined folder, use repository=True to get
the commit of the repository instead.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.scm.git.Git.checkout_from_conandata_coordinates">
<span class="sig-name descname"><span class="pre">checkout_from_conandata_coordinates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.scm.git.Git.checkout_from_conandata_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Reads the 「scm」 field from the <code class="docutils literal notranslate"><span class="pre">conandata.yml</span></code>, that must contain at least 「url」 and
「commit」 and then do a <code class="docutils literal notranslate"><span class="pre">clone(url,</span> <span class="pre">target=&quot;.&quot;)</span></code>, <code class="docutils literal notranslate"><span class="pre">fetch</span> <span class="pre">&lt;commit&gt;</span></code>, followed by a <code class="docutils literal notranslate"><span class="pre">checkout(commit)</span></code>.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../scm.html" class="btn btn-neutral float-left" title="conan.tools.scm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="version.html" class="btn btn-neutral float-right" title="版本" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">最後更新於 2月 17, 2026。
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>