<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>build_requirements() &mdash; conan 2.25.1 說明文件</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/conan-docs-l10n/reference/conanfile/methods/build_requirements.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=15ba7f30"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/translations.js?v=d9a6981e"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜尋" href="../../../search.html" />
    <link rel="next" title="compatibility()" href="compatibility.html" />
    <link rel="prev" title="build_id()" href="build_id.html" />


 



</script>
<script type="text/javascript" src="../../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">介紹</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">安裝</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI 教學</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">開發運維指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">安全性</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">範例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">Binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">命令</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../conanfile.html">conanfile.py</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../attributes.html">Attributes</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../methods.html">Methods</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="build.html">build()</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_id.html">build_id()</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">build_requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="compatibility.html">compatibility()</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure.html">configure()</a></li>
<li class="toctree-l4"><a class="reference internal" href="config_options.html">config_options()</a></li>
<li class="toctree-l4"><a class="reference internal" href="deploy.html">deploy()</a></li>
<li class="toctree-l4"><a class="reference internal" href="export.html">export()</a></li>
<li class="toctree-l4"><a class="reference internal" href="export_sources.html">export_sources()</a></li>
<li class="toctree-l4"><a class="reference internal" href="finalize.html">finalize()</a></li>
<li class="toctree-l4"><a class="reference internal" href="generate.html">generate()</a></li>
<li class="toctree-l4"><a class="reference internal" href="init.html">init()</a></li>
<li class="toctree-l4"><a class="reference internal" href="layout.html">layout()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package.html">package()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package_id.html">package_id()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package_info.html">package_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="requirements.html">requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_name.html">set_name()</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_version.html">set_version()</a></li>
<li class="toctree-l4"><a class="reference internal" href="source.html">source()</a></li>
<li class="toctree-l4"><a class="reference internal" href="system_requirements.html">system_requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="test.html">test()</a></li>
<li class="toctree-l4"><a class="reference internal" href="validate.html">validate()</a></li>
<li class="toctree-l4"><a class="reference internal" href="validate_build.html">validate_build()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../running_and_output.html">Running and output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">組態檔</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">環境變數</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">擴充功能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">執行器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">工作空間檔案</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">孵化中的功能</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">變更日誌</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../conanfile.html">conanfile.py</a></li>
          <li class="breadcrumb-item"><a href="../methods.html">Methods</a></li>
      <li class="breadcrumb-item active">build_requirements()</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/conanfile/methods/build_requirements.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="build-requirements">
<span id="reference-conanfile-methods-build-requirements"></span><h1>build_requirements()<a class="headerlink" href="#build-requirements" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">build_requirements()</span></code> method is functionally equivalent to the <code class="docutils literal notranslate"><span class="pre">requirements()</span></code> one, it is executed just after it. It is not strictly necessary, in theory everything that is inside this method, could be done in the end of the <code class="docutils literal notranslate"><span class="pre">requirements()</span></code> one. Still, <code class="docutils literal notranslate"><span class="pre">build_requirements()</span></code> is good for having a dedicated place to define <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> and <code class="docutils literal notranslate"><span class="pre">test_requires</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="bp">self</span><span class="o">.</span><span class="n">tool_requires</span><span class="p">(</span><span class="s2">&quot;cmake/3.23.5&quot;</span><span class="p">)</span>
   <span class="bp">self</span><span class="o">.</span><span class="n">test_requires</span><span class="p">(</span><span class="s2">&quot;gtest/1.13.0&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For simple cases the attribute syntax can be enough, like <code class="docutils literal notranslate"><span class="pre">tool_requires</span> <span class="pre">=</span> <span class="pre">&quot;cmake/3.23.5&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">test_requires</span> <span class="pre">=</span> <span class="pre">&quot;gtest/1.13.0&quot;</span></code>. The method form can be necessary for conditional or parameterized requirements.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> and <code class="docutils literal notranslate"><span class="pre">test_requires</span></code> methods are just a specialized instance of <code class="docutils literal notranslate"><span class="pre">requires</span></code> with some predefined trait values. See the <a class="reference internal" href="requirements.html#reference-conanfile-methods-requirements"><span class="std std-ref">requires() reference</span></a> for more information about traits.</p>
<p>There are 2 <strong>experimental</strong> <code class="docutils literal notranslate"><span class="pre">confs</span></code> that can be used to avoid the expansion of these types of requirements:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tools.graph:skip_build</span></code> allows to skip <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> dependencies completely. This can be done if two conditions are met: the packages requiring these tools do not need to be built from sources, and the tool requirements do not affect the consumers <code class="docutils literal notranslate"><span class="pre">package_id</span></code>. If this happens, Conan will raise an error.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tools.graph:skip_test</span></code> allows to skip <code class="docutils literal notranslate"><span class="pre">test_requires</span></code> dependencies completely. If these dependencies are skipped, but then some package needs to be built from source and <code class="docutils literal notranslate"><span class="pre">tools.build:skip_test</span></code> was not activated, it will fail to locate the <code class="docutils literal notranslate"><span class="pre">test_requires</span></code>. So in most cases, the <code class="docutils literal notranslate"><span class="pre">tools.build:skip_test</span></code> should also be defined.</p></li>
</ul>
<p>Note that if tool and/or test requirements are skipped they will not be part of the dependency graph, and they will not become part of possible generated lockfiles or package lists, with a potential impact on future reproducibility. Also, in most cases, Conan is able to mark tool and test requirements as unnecessary (<code class="docutils literal notranslate"><span class="pre">Skip</span></code>), avoiding the download of the heavy binaries, just downloading the recipe which is usually very fast. That means that in most cases these <code class="docutils literal notranslate"><span class="pre">confs</span></code> are not necessary and the Conan defaults are good, please use them being aware of the tradeoffs.</p>
<section id="tool-requires">
<span id="reference-conanfile-methods-build-requirements-tool-requires"></span><h2>tool_requires()<a class="headerlink" href="#tool-requires" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">requires()</span></code> with the following traits:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build=True</span></code>. This dependency is in the 「build」 context, being necessary at build time, but not at application runtime, and will receive the 「build」 profile and configuration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">visible=False</span></code>. The dependency to a tool requirement is not propagated downstream. For example, one package can call <code class="docutils literal notranslate"><span class="pre">tool_requires(&quot;cmake/3.23.5&quot;)</span></code>, but that doesn’t mean that the consumer packages also use <code class="docutils literal notranslate"><span class="pre">cmake</span></code>, they could even use a different build system, or a different version, without causing conflicts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run=True</span></code>. This dependency has some executables or runtime that needs to be ran at build time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">headers=False</span></code> A tool requirement does not have headers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libs=False</span></code>: A tool requirement does not have libraries to be linked by the consumer (if it had libraries they would be in the 「build」 context and could be incompatible with the 「host」 context of the consumer package).</p></li>
</ul>
<p>Recall that <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> are intended exclusively for depending on tools like <code class="docutils literal notranslate"><span class="pre">cmake</span></code> or <code class="docutils literal notranslate"><span class="pre">ninja</span></code>, which run in the 「build」 context, but not for library-like dependencies that would be linked into binaries. For libraries or library-like dependencies, use <code class="docutils literal notranslate"><span class="pre">requires</span></code> or <code class="docutils literal notranslate"><span class="pre">test_requires</span></code>.</p>
<section id="host-version">
<span id="reference-conanfile-build-requirements-host-version"></span><h3>&lt;host_version&gt;<a class="headerlink" href="#host-version" title="Link to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>This feature is experimental and subject to breaking changes.
See <a class="reference internal" href="../../../introduction.html#stability"><span class="std std-ref">the Conan stability</span></a> section for more information.</p>
</div>
<p>This syntax is useful when you’re using the same package recipe as a <em>requires</em> and as a <em>tool_requires</em> and you want to avoid
conflicting downstream if any user decides to override the original <em>requires</em> version in the <em>host</em> context, i.e., the user could end up with
two different versions in the host and build contexts of the same dependency.</p>
<p>In a nutshell, the <code class="docutils literal notranslate"><span class="pre">&lt;host_version&gt;</span></code> specifier allows us to ensure that the version resolved for the <em>tool_requires</em>
always matches the one for the host requirement.</p>
<p>For instance, let’s show a simple recipe using <em>protobuf</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">mylibRecipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mylib&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;protobuf/3.18.1&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tool_requires</span><span class="p">(</span><span class="s2">&quot;protobuf/&lt;host_version&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, if any user wants to use <em>mylib/0.1</em>, but another version of <em>protobuf</em>, there shouldn’t be any problems overriding it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">myappRecipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;myapp&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;mylib/0.1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;protobuf/3.21.9&quot;</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;host_version&gt;</span></code> defined upstream is ensuring that the host and build contexts are using the same version of that requirement.</p>
<p>Additionally, the syntax <code class="docutils literal notranslate"><span class="pre">&lt;host_version:mylib&gt;</span></code> can be used to specify the name of the package to be tracked,
should the <em>requires</em> and <em>tool_requires</em> have different names. For instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">mylibRecipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mylib&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;gettext/2.31&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tool_requires</span><span class="p">(</span><span class="s2">&quot;libgettext/&lt;host_version:gettext&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">也參考</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../examples/graph/tool_requires/using_protobuf.html#examples-graph-tool-requires-protobuf"><span class="std std-ref">Using the same requirement as a requires and as a tool_requires</span></a></p></li>
</ul>
</div>
</section>
</section>
<section id="test-requires">
<span id="reference-conanfile-methods-build-requirements-test-requires"></span><h2>test_requires<a class="headerlink" href="#test-requires" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">test_requires</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">requires()</span></code> with the following traits:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">test=True</span></code>. This dependency is a 「test」 dependency, existing in the 「host」 context, but not aiming to be part of the final product.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">visible=False</span></code>. The dependency to a test requirement is not propagated downstream. For example, one package can call <code class="docutils literal notranslate"><span class="pre">self.test_requires(&quot;gtest/1.13.0&quot;)</span></code>, but that doesn’t mean that the consumer packages also use <code class="docutils literal notranslate"><span class="pre">gtest</span></code>, they could even use a different test framework, or the same <code class="docutils literal notranslate"><span class="pre">gtest</span></code> with a different version, without causing conflicts.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>As the <code class="docutils literal notranslate"><span class="pre">test_requires</span></code> defines a <code class="docutils literal notranslate"><span class="pre">visible=False</span></code> trait,
care must be taken to avoid having transitive dependencies with a normal requirement to the same packages
used in the <code class="docutils literal notranslate"><span class="pre">test_requires</span></code>. This is because having direct <code class="docutils literal notranslate"><span class="pre">visible=False</span></code> requirements
can create conflicts if a transitive dependency has a <code class="docutils literal notranslate"><span class="pre">visible=True</span></code>
requirement to the same package that the current recipe is requiring as a test dependency.
In these cases where different visibility rules reach the same package, the visible transitive
dependency will be used and propagated downstream.</p>
</div>
<p>It is possible to further modify individual traits of <code class="docutils literal notranslate"><span class="pre">tool_requires()</span></code> and <code class="docutils literal notranslate"><span class="pre">test_requires()</span></code> if necessary, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="bp">self</span><span class="o">.</span><span class="n">tool_requires</span><span class="p">(</span><span class="s2">&quot;cmake/3.23.5&quot;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">test_requires()</span></code> allows the <code class="docutils literal notranslate"><span class="pre">force=True</span></code> trait in case there are transitive test requirements with conflicting versions, and likewise <code class="docutils literal notranslate"><span class="pre">tool_requires()</span></code> support the <code class="docutils literal notranslate"><span class="pre">override=True</span></code> trait, for overriding possible transitive dependencies of the direct tool requirements.</p>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p><strong>最佳實踐</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> are exclusively for build time <strong>tools</strong>, not for libraries that would be included and linked into the consumer package. For libraries with some special characteristics, use a <code class="docutils literal notranslate"><span class="pre">requires()</span></code> with custom trait values.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">self.test_requires()</span></code> and <code class="docutils literal notranslate"><span class="pre">self.tool_requires()</span></code> methods should exclusively be used in the <code class="docutils literal notranslate"><span class="pre">build_requirements()</span></code> method, with the only possible exception being the <code class="docutils literal notranslate"><span class="pre">requirements()</span></code> method. Using them in any other method is forbidden. To access information about dependencies when necessary in some methods, the <a class="reference internal" href="generate.html#conan-conanfile-model-dependencies"><span class="std std-ref">self.dependencies</span></a> attribute should be used.</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">也參考</p>
<ul class="simple">
<li><p>Follow the <a class="reference internal" href="../../../tutorial/consuming_packages/use_tools_as_conan_packages.html#consuming-packages-tool-requires"><span class="std std-ref">tutorial about consuming Conan packages as tools</span></a>.</p></li>
<li><p>Read the <a class="reference internal" href="../../../tutorial/creating_packages/other_types_of_packages/tool_requires_packages.html#tutorial-other-tool-requires-packages"><span class="std std-ref">tutorial about creating tool_requires packages</span></a>.</p></li>
<li><p><a class="reference internal" href="../../../examples/graph/tool_requires/using_protobuf.html#examples-graph-tool-requires-protobuf"><span class="std std-ref">Using the same requirement as a requires and as a tool_requires</span></a></p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="build_id.html" class="btn btn-neutral float-left" title="build_id()" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="compatibility.html" class="btn btn-neutral float-right" title="compatibility()" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2026, JFrog.
      <span class="lastupdated">最後更新於 2月 17, 2026。
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>


 


</body>
</html>